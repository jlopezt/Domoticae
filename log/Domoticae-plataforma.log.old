Conectado a la base de datos domoticae
Configuracion MQTT
broker: [10.68.0.100]
puerto: [1883]
usuario: [domoticae]
pass: [88716]
pub topic root: [domoticae]
sub topic root: [domoticae]
 * Serving Flask app 'domoticae'
Conectado al bus MQTT
 * Debug mode: on
Conectado a la base de datos domoticae
Configuracion MQTT
broker: [10.68.0.100]
puerto: [1883]
usuario: [domoticae]
pass: [88716]
pub topic root: [domoticae]
sub topic root: [domoticae]
Conectado al bus MQTT
subscrito al topic: domoticae/#
usuario: jlopezt password txt: Jorsadi_0 password: 125554099666a6632fe664b59fe7d4e4
usuario de la cookie: jlopezt
usuario recbido: jlopezt
Consulta: select SID,DID,validado from Dispositivos where CID="jlopezt" order by SID
({'SID': 'test99', 'DID': '00006c3f9a9ef0c8', 'validado': 1},)
Entrando en dispositivo
Ha llegado a GET
Accion: configuracion
Entrando en ficheroConfiguracion (jlopezt|test99|Config)...
se leera de usuarios/jlopezt/test99/Config.json
{
	"nombre_dispositivo": "CONFIGURACION DEPRECADA",
	"URLPlataforma": "https://prepro.domoticae.com",
	"NivelActivo":0
}
Entrando en ficheroConfiguracion (jlopezt|test99|MQTTConfig)...
se leera de usuarios/jlopezt/test99/MQTTConfig.json
{ 
  "IPBroker": "10.68.0.100", 
  "puerto": 1883,
  "xxxmodoMQTT": "TLS",
  "xxxBrokerDir": "mqtt.lopeztola.com",
  "xxxpuerto": 8883, 
  "usuarioMQTT": "domoticae", 
  "passwordMQTT": "88716", 
  "ID_MQTT": "CONFIGURACION DEPRECADA", 
  "topicRoot": "domoticae", 
  "publicarMedidas": 0,
  "publicarEntradas": 1,
  "publicarSalidas": 1,
  "publicarSecuenciador": 1,
  "publicarMaquinaEstados":1
}
(0, 2)
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se leera de usuarios/jlopezt/test99/MQTTConfig.json
{ 
  "IPBroker": "10.68.0.100", 
  "puerto": 1883,
  "xxxmodoMQTT": "TLS",
  "xxxBrokerDir": "mqtt.lopeztola.com",
  "xxxpuerto": 8883, 
  "usuarioMQTT": "domoticae", 
  "passwordMQTT": "88716", 
  "ID_MQTT": "CONFIGURACION DEPRECADA", 
  "topicRoot": "domoticae", 
  "publicarMedidas": 0,
  "publicarEntradas": 1,
  "publicarSalidas": 1,
  "publicarSecuenciador": 1,
  "publicarMaquinaEstados":1
}
Consulta: select Usuario from Usuarios where Usuario='jlopezt'
Consulta: select * from Dispositivos where DID='00006c3f9a9ef0c8'
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/Config.json
conenido decoded: -->{
	"nombre_dispositivo": "CONFIGURACION DEPRECADA",
	"URLPlataforma": "https://prepro.domoticae.com",
	"NivelActivo":0
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/WiFiConfig.json
conenido decoded: -->{
  "wifiIP":"10.68.0.55",
  "wifiGW":"10.68.1.1",
  "wifiNet":"255.255.0.0",
  "wifiDNS1":"8.8.8.8",
  "wifiDNS2":"8.8.4.4",
  "wifi": [
    {"ssid": "BASE1" ,"password": "11223344556677889900abcdef"}
  ]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/MQTTConfig.json
conenido decoded: -->{ 
  "IPBroker": "10.68.0.100", 
  "puerto": 1883,
  "xxxmodoMQTT": "TLS",
  "xxxBrokerDir": "mqtt.lopeztola.com",
  "xxxpuerto": 8883, 
  "usuarioMQTT": "domoticae", 
  "passwordMQTT": "88716", 
  "ID_MQTT": "CONFIGURACION DEPRECADA", 
  "topicRoot": "domoticae", 
  "publicarMedidas": 0,
  "publicarEntradas": 1,
  "publicarSalidas": 1,
  "publicarSecuenciador": 1,
  "publicarMaquinaEstados":1
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/EntradasConfig.json
conenido decoded: -->{
	"Entradas": [
		{
			"GPIO": 2, 
			"nombre": "Pulsador", 
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
				{"valor": 0, "texto": "-"},
				{"valor": 1, "texto": "Pulsado"}
			],
			"Mensajes": [
				{"valor": 0, "texto": "--"},
				{"valor": 1, "texto": "Pulsado"}
			]
		},
		{
			"GPIO": 4, 
			"nombre": "Arriba", 
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
				{"valor": 0, "texto": "-"},
				{"valor": 1, "texto": "Arriba"}
			],
			"Mensajes": [
				{"valor": 0, "texto": "--"},
				{"valor": 1, "texto": "Puerta abierta"}
			]
		},
		{
			"GPIO": 12, 
			"nombre": "Abajo", 
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
				{"valor": 0, "texto": "-"},
				{"valor": 1, "texto": "Abajo"}
			],
			"Mensajes": [
				{"valor": 0, "texto": "--"},
				{"valor": 1, "texto": "Puerta cerrada"}
			]
		},
		{
			"GPIO": 14, 
			"nombre": "Barrera",
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
			  {"valor": 0, "texto": "Paso libre"},
			  {"valor": 1, "texto": "Objeto detectado"}
			],
			"Mensajes": [
			  {"valor": 0, "texto": "Paso libre"},
			  {"valor": 1, "texto": "Objeto detectado"}
			]
		  },
		  {
			"GPIO": 15, 
			"nombre": "Emergencia",
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
			  {"valor": 0, "texto": "Apagado"},
			  {"valor": 1, "texto": "Encendido"}
			],
			"Mensajes": [
			  {"valor": 0, "texto": "Apagado"},
			  {"valor": 1, "texto": "Encendido"}
			]
		  }  			
	]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/SalidasConfig.json
conenido decoded: -->{
  "Salidas": [
    {
      "GPIO": 21, 
      "nombre": "Subir",
      "tipo": 0,
      "inicio": "off",
      "anchoPulso": 1000,
      "modo": 3,
      "controlador": 0,
      "Estados": [
        {"valor": 0, "texto": "Apagado"},
        {"valor": 1, "texto": "Encendido"}
      ],
      "Mensajes": [
        {"valor": 0, "texto": "Apagado"},
        {"valor": 1, "texto": "Encendido"}
      ]
    },
    {
      "GPIO": 19, 
      "nombre": "Bajar",
      "tipo": 0,
      "inicio": "off",
      "anchoPulso": 1000,
      "modo": 3,
      "controlador": 0,
      "Estados": [
        {"valor": 0, "texto": "Apagado"},
        {"valor": 1, "texto": "Encendido"}
      ],
      "Mensajes": [
        {"valor": 0, "texto": "Apagado"},
        {"valor": 1, "texto": "Encendido"}
      ]
    },
    {
      "GPIO": 18, 
      "nombre": "LuzRoja",
      "tipo": 0,
      "inicio": "off",
      "anchoPulso": 1000,
      "modo": 3,
      "controlador": 0,
      "Estados": [
        {"valor": 0, "texto": "--"},
        {"valor": 1, "texto": "Alarma"}
      ],
      "Mensajes": [
        {"valor": 0, "texto": "--"},
        {"valor": 1, "texto": "Alarma"}
      ]
    },   
    {
      "GPIO": 5,
      "nombre": "boton",
      "tipo": 0,
      "inicio": "off",
      "anchoPulso": 1000,
      "modo": 0,
      "controlador": 0,
      "Estados": [
        {"valor": 0, "texto": "No se"},
        {"valor": 1, "texto": "Pulsado"}
      ],
      "Mensajes": [
        {"valor": 0, "texto": "No se que poner"},
        {"valor": 1, "texto": "Boton pulsado"}
      ]
    }
  ]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/SecuenciadorConfig.json
conenido decoded: -->{
	"estadoInicial": 1,
	"Planes":[]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/MaqEstadosConfig.json
conenido decoded: -->{
	"Entradas": [0,1,2,3,4],
	"Salidas": [0,1,2],
	"Estados":[
		{"id":0, "nombre": "Error",  "salidas":[0,0,0], "timeout": -1},
		{"id":1, "nombre": "Inicio", "salidas":[0,0,0], "timeout": -1},
		{"id":2, "nombre": "Arriba", "salidas":[0,0,0], "timeout": -1},
		{"id":3, "nombre": "Abajo",  "salidas":[0,0,0], "timeout": -1},
		{"id":4, "nombre": "Subiendo", "salidas":[1,0,0], "timeout": 30},
		{"id":5, "nombre": "Bajando",  "salidas":[0,1,0], "timeout": 30},
		{"id":6, "nombre": "Alarma",  "salidas":[0,0,1], "timeout": 0}
		],
	"Transiciones":[
    {"inicial":0,"entradas":[-1,-1,-1,-1,-1],"final":0},

    {"inicial":1,"entradas":[-1,-1,-1,-1,1],"final":6},
    {"inicial":1,"entradas":[-1,-1,-1,1,0],"final":4},
    {"inicial":1,"entradas":[-1,1,1,0,0],"final":0},
    {"inicial":1,"entradas":[-1,0,0,0,0],"final":4},
    {"inicial":1,"entradas":[-1,1,0,0,0],"final":2},
    {"inicial":1,"entradas":[-1,0,1,0,0],"final":3},

    {"inicial":2,"entradas":[-1,-1,-1,-1,1],"final":6},    
    {"inicial":2,"entradas":[-1,-1,1,0,0],"final":0},
    {"inicial":2,"entradas":[0,1,0,0,0],"final":2},
    {"inicial":2,"entradas":[1,1,0,0,0],"final":5},
    {"inicial":2,"entradas":[-1,0,0,0,0],"final":5},

    {"inicial":3,"entradas":[-1,-1,-1,-1,1],"final":6},
    {"inicial":3,"entradas":[-1,1,-1,0,0],"final":0},
    {"inicial":3,"entradas":[0,0,1,0,0],"final":3},
    {"inicial":3,"entradas":[1,0,1,0,0],"final":4},
    {"inicial":3,"entradas":[-1,0,0,0,0],"final":4},

    {"inicial":4,"entradas":[-1,-1,-1,-1,1],"final":6},
    {"inicial":4,"entradas":[-1,1,1,-1,0],"final":0},
    {"inicial":4,"entradas":[-1,0,-1,-1,0],"final":4},
    {"inicial":4,"entradas":[-1,1,0,0,0],"final":2},

    {"inicial":5,"entradas":[-1,-1,-1,-1,1],"final":6}, 
    {"inicial":5,"entradas":[-1,1,1,-1,0],"final":0},
    {"inicial":5,"entradas":[-1,-1,-1,1,0],"final":1},
    {"inicial":5,"entradas":[-1,-1,0,0,0],"final":5},    
    {"inicial":5,"entradas":[-1,0,1,0,0],"final":3},

    {"inicial":6,"entradas":[-1,-1,-1,-1,1],"final":6},
    {"inicial":6,"entradas":[-1,-1,-1,-1,0],"final":1}
  ]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/GHNConfig.json
conenido decoded: -->{
	"activaGoogleHomeNotifier": 0,
	"nombreEquipo": "Todos",
	"idioma": "es"
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/Sensores.json
conenido decoded: -->{
    "Sensores":[
        {
        "nombre":"BMP280_1",
        "tipo": "BMP280",
        "parametros":
            {"direccionI2C":"0x76"}
        }
    ]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/Variables.json
conenido decoded: -->{
    "Variables":[
        {
        "nombre":"TemperaturaExterior",
        "unidades":"ºC",
        "descripcion":"Temepratura medida en el jardin",
        "sensor": "BMP280_1",
        "tipo":"TEMPERATURA",
        "Humbrales":[
            {"nombre": "mucho frio", "tipo":"inferior", "valor": 0, "mensaje": "Hace frio"},
            {"nombre": "mucho calor", "tipo":"superior", "valor": 40, "mensaje": "¡¡Que calor!!"}
            ]
        },
        {
        "nombre":"PresionAtmosferica",
        "unidades":"bar",
        "descripcion":"Presion atmosferica",
        "sensor": "BMP280_1",
        "tipo":"PRESION",
        "Humbrales":[
            {"nombre": "tiempo inestable", "tipo":"inferior", "valor": 840, "mensaje": "puede llover"},
            {"nombre": "anticiclonazo", "tipo":"superior", "valor": 1100, "mensaje": "Solete"}
            ]
        }                      
    ]
}<--
Consulta: select Usuario from Usuarios where Usuario='jlopezt'
Consulta: select * from Dispositivos where DID='00006c3f9a9ef0c8'
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/Config.json
conenido decoded: -->{
	"nombre_dispositivo": "CONFIGURACION DEPRECADA",
	"URLPlataforma": "https://prepro.domoticae.com",
	"NivelActivo":0
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/WiFiConfig.json
conenido decoded: -->{
  "wifiIP":"10.68.0.55",
  "wifiGW":"10.68.1.1",
  "wifiNet":"255.255.0.0",
  "wifiDNS1":"8.8.8.8",
  "wifiDNS2":"8.8.4.4",
  "wifi": [
    {"ssid": "BASE1" ,"password": "11223344556677889900abcdef"}
  ]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/MQTTConfig.json
conenido decoded: -->{ 
  "IPBroker": "10.68.0.100", 
  "puerto": 1883,
  "xxxmodoMQTT": "TLS",
  "xxxBrokerDir": "mqtt.lopeztola.com",
  "xxxpuerto": 8883, 
  "usuarioMQTT": "domoticae", 
  "passwordMQTT": "88716", 
  "ID_MQTT": "CONFIGURACION DEPRECADA", 
  "topicRoot": "domoticae", 
  "publicarMedidas": 0,
  "publicarEntradas": 1,
  "publicarSalidas": 1,
  "publicarSecuenciador": 1,
  "publicarMaquinaEstados":1
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/EntradasConfig.json
conenido decoded: -->{
	"Entradas": [
		{
			"GPIO": 2, 
			"nombre": "Pulsador", 
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
				{"valor": 0, "texto": "-"},
				{"valor": 1, "texto": "Pulsado"}
			],
			"Mensajes": [
				{"valor": 0, "texto": "--"},
				{"valor": 1, "texto": "Pulsado"}
			]
		},
		{
			"GPIO": 4, 
			"nombre": "Arriba", 
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
				{"valor": 0, "texto": "-"},
				{"valor": 1, "texto": "Arriba"}
			],
			"Mensajes": [
				{"valor": 0, "texto": "--"},
				{"valor": 1, "texto": "Puerta abierta"}
			]
		},
		{
			"GPIO": 12, 
			"nombre": "Abajo", 
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
				{"valor": 0, "texto": "-"},
				{"valor": 1, "texto": "Abajo"}
			],
			"Mensajes": [
				{"valor": 0, "texto": "--"},
				{"valor": 1, "texto": "Puerta cerrada"}
			]
		},
		{
			"GPIO": 14, 
			"nombre": "Barrera",
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
			  {"valor": 0, "texto": "Paso libre"},
			  {"valor": 1, "texto": "Objeto detectado"}
			],
			"Mensajes": [
			  {"valor": 0, "texto": "Paso libre"},
			  {"valor": 1, "texto": "Objeto detectado"}
			]
		  },
		  {
			"GPIO": 15, 
			"nombre": "Emergencia",
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
			  {"valor": 0, "texto": "Apagado"},
			  {"valor": 1, "texto": "Encendido"}
			],
			"Mensajes": [
			  {"valor": 0, "texto": "Apagado"},
			  {"valor": 1, "texto": "Encendido"}
			]
		  }  			
	]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/SalidasConfig.json
conenido decoded: -->{
  "Salidas": [
    {
      "GPIO": 21, 
      "nombre": "Subir",
      "tipo": 0,
      "inicio": "off",
      "anchoPulso": 1000,
      "modo": 3,
      "controlador": 0,
      "Estados": [
        {"valor": 0, "texto": "Apagado"},
        {"valor": 1, "texto": "Encendido"}
      ],
      "Mensajes": [
        {"valor": 0, "texto": "Apagado"},
        {"valor": 1, "texto": "Encendido"}
      ]
    },
    {
      "GPIO": 19, 
      "nombre": "Bajar",
      "tipo": 0,
      "inicio": "off",
      "anchoPulso": 1000,
      "modo": 3,
      "controlador": 0,
      "Estados": [
        {"valor": 0, "texto": "Apagado"},
        {"valor": 1, "texto": "Encendido"}
      ],
      "Mensajes": [
        {"valor": 0, "texto": "Apagado"},
        {"valor": 1, "texto": "Encendido"}
      ]
    },
    {
      "GPIO": 18, 
      "nombre": "LuzRoja",
      "tipo": 0,
      "inicio": "off",
      "anchoPulso": 1000,
      "modo": 3,
      "controlador": 0,
      "Estados": [
        {"valor": 0, "texto": "--"},
        {"valor": 1, "texto": "Alarma"}
      ],
      "Mensajes": [
        {"valor": 0, "texto": "--"},
        {"valor": 1, "texto": "Alarma"}
      ]
    },   
    {
      "GPIO": 5,
      "nombre": "boton",
      "tipo": 0,
      "inicio": "off",
      "anchoPulso": 1000,
      "modo": 0,
      "controlador": 0,
      "Estados": [
        {"valor": 0, "texto": "No se"},
        {"valor": 1, "texto": "Pulsado"}
      ],
      "Mensajes": [
        {"valor": 0, "texto": "No se que poner"},
        {"valor": 1, "texto": "Boton pulsado"}
      ]
    }
  ]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/SecuenciadorConfig.json
conenido decoded: -->{
	"estadoInicial": 1,
	"Planes":[]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/MaqEstadosConfig.json
conenido decoded: -->{
	"Entradas": [0,1,2,3,4],
	"Salidas": [0,1,2],
	"Estados":[
		{"id":0, "nombre": "Error",  "salidas":[0,0,0], "timeout": -1},
		{"id":1, "nombre": "Inicio", "salidas":[0,0,0], "timeout": -1},
		{"id":2, "nombre": "Arriba", "salidas":[0,0,0], "timeout": -1},
		{"id":3, "nombre": "Abajo",  "salidas":[0,0,0], "timeout": -1},
		{"id":4, "nombre": "Subiendo", "salidas":[1,0,0], "timeout": 30},
		{"id":5, "nombre": "Bajando",  "salidas":[0,1,0], "timeout": 30},
		{"id":6, "nombre": "Alarma",  "salidas":[0,0,1], "timeout": 0}
		],
	"Transiciones":[
    {"inicial":0,"entradas":[-1,-1,-1,-1,-1],"final":0},

    {"inicial":1,"entradas":[-1,-1,-1,-1,1],"final":6},
    {"inicial":1,"entradas":[-1,-1,-1,1,0],"final":4},
    {"inicial":1,"entradas":[-1,1,1,0,0],"final":0},
    {"inicial":1,"entradas":[-1,0,0,0,0],"final":4},
    {"inicial":1,"entradas":[-1,1,0,0,0],"final":2},
    {"inicial":1,"entradas":[-1,0,1,0,0],"final":3},

    {"inicial":2,"entradas":[-1,-1,-1,-1,1],"final":6},    
    {"inicial":2,"entradas":[-1,-1,1,0,0],"final":0},
    {"inicial":2,"entradas":[0,1,0,0,0],"final":2},
    {"inicial":2,"entradas":[1,1,0,0,0],"final":5},
    {"inicial":2,"entradas":[-1,0,0,0,0],"final":5},

    {"inicial":3,"entradas":[-1,-1,-1,-1,1],"final":6},
    {"inicial":3,"entradas":[-1,1,-1,0,0],"final":0},
    {"inicial":3,"entradas":[0,0,1,0,0],"final":3},
    {"inicial":3,"entradas":[1,0,1,0,0],"final":4},
    {"inicial":3,"entradas":[-1,0,0,0,0],"final":4},

    {"inicial":4,"entradas":[-1,-1,-1,-1,1],"final":6},
    {"inicial":4,"entradas":[-1,1,1,-1,0],"final":0},
    {"inicial":4,"entradas":[-1,0,-1,-1,0],"final":4},
    {"inicial":4,"entradas":[-1,1,0,0,0],"final":2},

    {"inicial":5,"entradas":[-1,-1,-1,-1,1],"final":6}, 
    {"inicial":5,"entradas":[-1,1,1,-1,0],"final":0},
    {"inicial":5,"entradas":[-1,-1,-1,1,0],"final":1},
    {"inicial":5,"entradas":[-1,-1,0,0,0],"final":5},    
    {"inicial":5,"entradas":[-1,0,1,0,0],"final":3},

    {"inicial":6,"entradas":[-1,-1,-1,-1,1],"final":6},
    {"inicial":6,"entradas":[-1,-1,-1,-1,0],"final":1}
  ]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/GHNConfig.json
conenido decoded: -->{
	"activaGoogleHomeNotifier": 0,
	"nombreEquipo": "Todos",
	"idioma": "es"
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/Sensores.json
conenido decoded: -->{
    "Sensores":[
        {
        "nombre":"BMP280_1",
        "tipo": "BMP280",
        "parametros":
            {"direccionI2C":"0x76"}
        }
    ]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/Variables.json
conenido decoded: -->{
    "Variables":[
        {
        "nombre":"TemperaturaExterior",
        "unidades":"ºC",
        "descripcion":"Temepratura medida en el jardin",
        "sensor": "BMP280_1",
        "tipo":"TEMPERATURA",
        "Humbrales":[
            {"nombre": "mucho frio", "tipo":"inferior", "valor": 0, "mensaje": "Hace frio"},
            {"nombre": "mucho calor", "tipo":"superior", "valor": 40, "mensaje": "¡¡Que calor!!"}
            ]
        },
        {
        "nombre":"PresionAtmosferica",
        "unidades":"bar",
        "descripcion":"Presion atmosferica",
        "sensor": "BMP280_1",
        "tipo":"PRESION",
        "Humbrales":[
            {"nombre": "tiempo inestable", "tipo":"inferior", "valor": 840, "mensaje": "puede llover"},
            {"nombre": "anticiclonazo", "tipo":"superior", "valor": 1100, "mensaje": "Solete"}
            ]
        }                      
    ]
}<--
Entrando en ficheroConfiguracion (jlopezt|test99|Config)...
Seion espirada
Entrando en ficheroConfiguracion (jlopezt|test99|WiFiConfig)...
Seion espirada
Entrando en ficheroConfiguracion (jlopezt|test99|MQTTConfig)...
Seion espirada
Entrando en ficheroConfiguracion (jlopezt|test99|EntradasConfig)...
Seion espirada
Entrando en ficheroConfiguracion (jlopezt|test99|Config)...
Seion espirada
usuario: jlopezt password txt: Jorsadi_0 password: 125554099666a6632fe664b59fe7d4e4
usuario de la cookie: jlopezt
usuario recbido: jlopezt
Consulta: select SID,DID,validado from Dispositivos where CID="jlopezt" order by SID
({'SID': 'test99', 'DID': '00006c3f9a9ef0c8', 'validado': 1},)
Entrando en dispositivo
Ha llegado a GET
Accion: configuracion
Entrando en ficheroConfiguracion (jlopezt|test99|Config)...
se leera de usuarios/jlopezt/test99/Config.json
{
	"nombre_dispositivo": "CONFIGURACION DEPRECADA",
	"URLPlataforma": "https://prepro.domoticae.com",
	"NivelActivo":0
}
Consulta: select Usuario from Usuarios where Usuario='jlopezt'
Consulta: select * from Dispositivos where DID='00006c3f9a9ef0c8'
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/Config.json
conenido decoded: -->{
	"nombre_dispositivo": "CONFIGURACION DEPRECADA",
	"URLPlataforma": "https://prepro.domoticae.com",
	"NivelActivo":0
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/WiFiConfig.json
conenido decoded: -->{
  "wifiIP":"10.68.0.55",
  "wifiGW":"10.68.1.1",
  "wifiNet":"255.255.0.0",
  "wifiDNS1":"8.8.8.8",
  "wifiDNS2":"8.8.4.4",
  "wifi": [
    {"ssid": "BASE1" ,"password": "11223344556677889900abcdef"}
  ]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/MQTTConfig.json
conenido decoded: -->{ 
  "IPBroker": "10.68.0.100", 
  "puerto": 1883,
  "xxxmodoMQTT": "TLS",
  "xxxBrokerDir": "mqtt.lopeztola.com",
  "xxxpuerto": 8883, 
  "usuarioMQTT": "domoticae", 
  "passwordMQTT": "88716", 
  "ID_MQTT": "CONFIGURACION DEPRECADA", 
  "topicRoot": "domoticae", 
  "publicarMedidas": 0,
  "publicarEntradas": 1,
  "publicarSalidas": 1,
  "publicarSecuenciador": 1,
  "publicarMaquinaEstados":1
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/EntradasConfig.json
conenido decoded: -->{
	"Entradas": [
		{
			"GPIO": 2, 
			"nombre": "Pulsador", 
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
				{"valor": 0, "texto": "-"},
				{"valor": 1, "texto": "Pulsado"}
			],
			"Mensajes": [
				{"valor": 0, "texto": "--"},
				{"valor": 1, "texto": "Pulsado"}
			]
		},
		{
			"GPIO": 4, 
			"nombre": "Arriba", 
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
				{"valor": 0, "texto": "-"},
				{"valor": 1, "texto": "Arriba"}
			],
			"Mensajes": [
				{"valor": 0, "texto": "--"},
				{"valor": 1, "texto": "Puerta abierta"}
			]
		},
		{
			"GPIO": 12, 
			"nombre": "Abajo", 
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
				{"valor": 0, "texto": "-"},
				{"valor": 1, "texto": "Abajo"}
			],
			"Mensajes": [
				{"valor": 0, "texto": "--"},
				{"valor": 1, "texto": "Puerta cerrada"}
			]
		},
		{
			"GPIO": 14, 
			"nombre": "Barrera",
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
			  {"valor": 0, "texto": "Paso libre"},
			  {"valor": 1, "texto": "Objeto detectado"}
			],
			"Mensajes": [
			  {"valor": 0, "texto": "Paso libre"},
			  {"valor": 1, "texto": "Objeto detectado"}
			]
		  },
		  {
			"GPIO": 15, 
			"nombre": "Emergencia",
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
			  {"valor": 0, "texto": "Apagado"},
			  {"valor": 1, "texto": "Encendido"}
			],
			"Mensajes": [
			  {"valor": 0, "texto": "Apagado"},
			  {"valor": 1, "texto": "Encendido"}
			]
		  }  			
	]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/SalidasConfig.json
conenido decoded: -->{
  "Salidas": [
    {
      "GPIO": 21, 
      "nombre": "Subir",
      "tipo": 0,
      "inicio": "off",
      "anchoPulso": 1000,
      "modo": 3,
      "controlador": 0,
      "Estados": [
        {"valor": 0, "texto": "Apagado"},
        {"valor": 1, "texto": "Encendido"}
      ],
      "Mensajes": [
        {"valor": 0, "texto": "Apagado"},
        {"valor": 1, "texto": "Encendido"}
      ]
    },
    {
      "GPIO": 19, 
      "nombre": "Bajar",
      "tipo": 0,
      "inicio": "off",
      "anchoPulso": 1000,
      "modo": 3,
      "controlador": 0,
      "Estados": [
        {"valor": 0, "texto": "Apagado"},
        {"valor": 1, "texto": "Encendido"}
      ],
      "Mensajes": [
        {"valor": 0, "texto": "Apagado"},
        {"valor": 1, "texto": "Encendido"}
      ]
    },
    {
      "GPIO": 18, 
      "nombre": "LuzRoja",
      "tipo": 0,
      "inicio": "off",
      "anchoPulso": 1000,
      "modo": 3,
      "controlador": 0,
      "Estados": [
        {"valor": 0, "texto": "--"},
        {"valor": 1, "texto": "Alarma"}
      ],
      "Mensajes": [
        {"valor": 0, "texto": "--"},
        {"valor": 1, "texto": "Alarma"}
      ]
    },   
    {
      "GPIO": 5,
      "nombre": "boton",
      "tipo": 0,
      "inicio": "off",
      "anchoPulso": 1000,
      "modo": 0,
      "controlador": 0,
      "Estados": [
        {"valor": 0, "texto": "No se"},
        {"valor": 1, "texto": "Pulsado"}
      ],
      "Mensajes": [
        {"valor": 0, "texto": "No se que poner"},
        {"valor": 1, "texto": "Boton pulsado"}
      ]
    }
  ]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/SecuenciadorConfig.json
conenido decoded: -->{
	"estadoInicial": 1,
	"Planes":[]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/MaqEstadosConfig.json
conenido decoded: -->{
	"Entradas": [0,1,2,3,4],
	"Salidas": [0,1,2],
	"Estados":[
		{"id":0, "nombre": "Error",  "salidas":[0,0,0], "timeout": -1},
		{"id":1, "nombre": "Inicio", "salidas":[0,0,0], "timeout": -1},
		{"id":2, "nombre": "Arriba", "salidas":[0,0,0], "timeout": -1},
		{"id":3, "nombre": "Abajo",  "salidas":[0,0,0], "timeout": -1},
		{"id":4, "nombre": "Subiendo", "salidas":[1,0,0], "timeout": 30},
		{"id":5, "nombre": "Bajando",  "salidas":[0,1,0], "timeout": 30},
		{"id":6, "nombre": "Alarma",  "salidas":[0,0,1], "timeout": 0}
		],
	"Transiciones":[
    {"inicial":0,"entradas":[-1,-1,-1,-1,-1],"final":0},

    {"inicial":1,"entradas":[-1,-1,-1,-1,1],"final":6},
    {"inicial":1,"entradas":[-1,-1,-1,1,0],"final":4},
    {"inicial":1,"entradas":[-1,1,1,0,0],"final":0},
    {"inicial":1,"entradas":[-1,0,0,0,0],"final":4},
    {"inicial":1,"entradas":[-1,1,0,0,0],"final":2},
    {"inicial":1,"entradas":[-1,0,1,0,0],"final":3},

    {"inicial":2,"entradas":[-1,-1,-1,-1,1],"final":6},    
    {"inicial":2,"entradas":[-1,-1,1,0,0],"final":0},
    {"inicial":2,"entradas":[0,1,0,0,0],"final":2},
    {"inicial":2,"entradas":[1,1,0,0,0],"final":5},
    {"inicial":2,"entradas":[-1,0,0,0,0],"final":5},

    {"inicial":3,"entradas":[-1,-1,-1,-1,1],"final":6},
    {"inicial":3,"entradas":[-1,1,-1,0,0],"final":0},
    {"inicial":3,"entradas":[0,0,1,0,0],"final":3},
    {"inicial":3,"entradas":[1,0,1,0,0],"final":4},
    {"inicial":3,"entradas":[-1,0,0,0,0],"final":4},

    {"inicial":4,"entradas":[-1,-1,-1,-1,1],"final":6},
    {"inicial":4,"entradas":[-1,1,1,-1,0],"final":0},
    {"inicial":4,"entradas":[-1,0,-1,-1,0],"final":4},
    {"inicial":4,"entradas":[-1,1,0,0,0],"final":2},

    {"inicial":5,"entradas":[-1,-1,-1,-1,1],"final":6}, 
    {"inicial":5,"entradas":[-1,1,1,-1,0],"final":0},
    {"inicial":5,"entradas":[-1,-1,-1,1,0],"final":1},
    {"inicial":5,"entradas":[-1,-1,0,0,0],"final":5},    
    {"inicial":5,"entradas":[-1,0,1,0,0],"final":3},

    {"inicial":6,"entradas":[-1,-1,-1,-1,1],"final":6},
    {"inicial":6,"entradas":[-1,-1,-1,-1,0],"final":1}
  ]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/GHNConfig.json
conenido decoded: -->{
	"activaGoogleHomeNotifier": 0,
	"nombreEquipo": "Todos",
	"idioma": "es"
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/Sensores.json
conenido decoded: -->{
    "Sensores":[
        {
        "nombre":"BMP280_1",
        "tipo": "BMP280",
        "parametros":
            {"direccionI2C":"0x76"}
        }
    ]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/Variables.json
conenido decoded: -->{
    "Variables":[
        {
        "nombre":"TemperaturaExterior",
        "unidades":"ºC",
        "descripcion":"Temepratura medida en el jardin",
        "sensor": "BMP280_1",
        "tipo":"TEMPERATURA",
        "Humbrales":[
            {"nombre": "mucho frio", "tipo":"inferior", "valor": 0, "mensaje": "Hace frio"},
            {"nombre": "mucho calor", "tipo":"superior", "valor": 40, "mensaje": "¡¡Que calor!!"}
            ]
        },
        {
        "nombre":"PresionAtmosferica",
        "unidades":"bar",
        "descripcion":"Presion atmosferica",
        "sensor": "BMP280_1",
        "tipo":"PRESION",
        "Humbrales":[
            {"nombre": "tiempo inestable", "tipo":"inferior", "valor": 840, "mensaje": "puede llover"},
            {"nombre": "anticiclonazo", "tipo":"superior", "valor": 1100, "mensaje": "Solete"}
            ]
        }                      
    ]
}<--
Consulta: select Usuario from Usuarios where Usuario='jlopezt'
Consulta: select * from Dispositivos where DID='00006c3f9a9ef0c8'
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/Config.json
conenido decoded: -->{
	"nombre_dispositivo": "CONFIGURACION DEPRECADA",
	"URLPlataforma": "https://prepro.domoticae.com",
	"NivelActivo":0
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/WiFiConfig.json
conenido decoded: -->{
  "wifiIP":"10.68.0.55",
  "wifiGW":"10.68.1.1",
  "wifiNet":"255.255.0.0",
  "wifiDNS1":"8.8.8.8",
  "wifiDNS2":"8.8.4.4",
  "wifi": [
    {"ssid": "BASE1" ,"password": "11223344556677889900abcdef"}
  ]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/MQTTConfig.json
conenido decoded: -->{ 
  "IPBroker": "10.68.0.100", 
  "puerto": 1883,
  "xxxmodoMQTT": "TLS",
  "xxxBrokerDir": "mqtt.lopeztola.com",
  "xxxpuerto": 8883, 
  "usuarioMQTT": "domoticae", 
  "passwordMQTT": "88716", 
  "ID_MQTT": "CONFIGURACION DEPRECADA", 
  "topicRoot": "domoticae", 
  "publicarMedidas": 0,
  "publicarEntradas": 1,
  "publicarSalidas": 1,
  "publicarSecuenciador": 1,
  "publicarMaquinaEstados":1
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/EntradasConfig.json
conenido decoded: -->{
	"Entradas": [
		{
			"GPIO": 2, 
			"nombre": "Pulsador", 
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
				{"valor": 0, "texto": "-"},
				{"valor": 1, "texto": "Pulsado"}
			],
			"Mensajes": [
				{"valor": 0, "texto": "--"},
				{"valor": 1, "texto": "Pulsado"}
			]
		},
		{
			"GPIO": 4, 
			"nombre": "Arriba", 
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
				{"valor": 0, "texto": "-"},
				{"valor": 1, "texto": "Arriba"}
			],
			"Mensajes": [
				{"valor": 0, "texto": "--"},
				{"valor": 1, "texto": "Puerta abierta"}
			]
		},
		{
			"GPIO": 12, 
			"nombre": "Abajo", 
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
				{"valor": 0, "texto": "-"},
				{"valor": 1, "texto": "Abajo"}
			],
			"Mensajes": [
				{"valor": 0, "texto": "--"},
				{"valor": 1, "texto": "Puerta cerrada"}
			]
		},
		{
			"GPIO": 14, 
			"nombre": "Barrera",
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
			  {"valor": 0, "texto": "Paso libre"},
			  {"valor": 1, "texto": "Objeto detectado"}
			],
			"Mensajes": [
			  {"valor": 0, "texto": "Paso libre"},
			  {"valor": 1, "texto": "Objeto detectado"}
			]
		  },
		  {
			"GPIO": 15, 
			"nombre": "Emergencia",
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
			  {"valor": 0, "texto": "Apagado"},
			  {"valor": 1, "texto": "Encendido"}
			],
			"Mensajes": [
			  {"valor": 0, "texto": "Apagado"},
			  {"valor": 1, "texto": "Encendido"}
			]
		  }  			
	]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/SalidasConfig.json
conenido decoded: -->{
  "Salidas": [
    {
      "GPIO": 21, 
      "nombre": "Subir",
      "tipo": 0,
      "inicio": "off",
      "anchoPulso": 1000,
      "modo": 3,
      "controlador": 0,
      "Estados": [
        {"valor": 0, "texto": "Apagado"},
        {"valor": 1, "texto": "Encendido"}
      ],
      "Mensajes": [
        {"valor": 0, "texto": "Apagado"},
        {"valor": 1, "texto": "Encendido"}
      ]
    },
    {
      "GPIO": 19, 
      "nombre": "Bajar",
      "tipo": 0,
      "inicio": "off",
      "anchoPulso": 1000,
      "modo": 3,
      "controlador": 0,
      "Estados": [
        {"valor": 0, "texto": "Apagado"},
        {"valor": 1, "texto": "Encendido"}
      ],
      "Mensajes": [
        {"valor": 0, "texto": "Apagado"},
        {"valor": 1, "texto": "Encendido"}
      ]
    },
    {
      "GPIO": 18, 
      "nombre": "LuzRoja",
      "tipo": 0,
      "inicio": "off",
      "anchoPulso": 1000,
      "modo": 3,
      "controlador": 0,
      "Estados": [
        {"valor": 0, "texto": "--"},
        {"valor": 1, "texto": "Alarma"}
      ],
      "Mensajes": [
        {"valor": 0, "texto": "--"},
        {"valor": 1, "texto": "Alarma"}
      ]
    },   
    {
      "GPIO": 5,
      "nombre": "boton",
      "tipo": 0,
      "inicio": "off",
      "anchoPulso": 1000,
      "modo": 0,
      "controlador": 0,
      "Estados": [
        {"valor": 0, "texto": "No se"},
        {"valor": 1, "texto": "Pulsado"}
      ],
      "Mensajes": [
        {"valor": 0, "texto": "No se que poner"},
        {"valor": 1, "texto": "Boton pulsado"}
      ]
    }
  ]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/SecuenciadorConfig.json
conenido decoded: -->{
	"estadoInicial": 1,
	"Planes":[]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/MaqEstadosConfig.json
conenido decoded: -->{
	"Entradas": [0,1,2,3,4],
	"Salidas": [0,1,2],
	"Estados":[
		{"id":0, "nombre": "Error",  "salidas":[0,0,0], "timeout": -1},
		{"id":1, "nombre": "Inicio", "salidas":[0,0,0], "timeout": -1},
		{"id":2, "nombre": "Arriba", "salidas":[0,0,0], "timeout": -1},
		{"id":3, "nombre": "Abajo",  "salidas":[0,0,0], "timeout": -1},
		{"id":4, "nombre": "Subiendo", "salidas":[1,0,0], "timeout": 30},
		{"id":5, "nombre": "Bajando",  "salidas":[0,1,0], "timeout": 30},
		{"id":6, "nombre": "Alarma",  "salidas":[0,0,1], "timeout": 0}
		],
	"Transiciones":[
    {"inicial":0,"entradas":[-1,-1,-1,-1,-1],"final":0},

    {"inicial":1,"entradas":[-1,-1,-1,-1,1],"final":6},
    {"inicial":1,"entradas":[-1,-1,-1,1,0],"final":4},
    {"inicial":1,"entradas":[-1,1,1,0,0],"final":0},
    {"inicial":1,"entradas":[-1,0,0,0,0],"final":4},
    {"inicial":1,"entradas":[-1,1,0,0,0],"final":2},
    {"inicial":1,"entradas":[-1,0,1,0,0],"final":3},

    {"inicial":2,"entradas":[-1,-1,-1,-1,1],"final":6},    
    {"inicial":2,"entradas":[-1,-1,1,0,0],"final":0},
    {"inicial":2,"entradas":[0,1,0,0,0],"final":2},
    {"inicial":2,"entradas":[1,1,0,0,0],"final":5},
    {"inicial":2,"entradas":[-1,0,0,0,0],"final":5},

    {"inicial":3,"entradas":[-1,-1,-1,-1,1],"final":6},
    {"inicial":3,"entradas":[-1,1,-1,0,0],"final":0},
    {"inicial":3,"entradas":[0,0,1,0,0],"final":3},
    {"inicial":3,"entradas":[1,0,1,0,0],"final":4},
    {"inicial":3,"entradas":[-1,0,0,0,0],"final":4},

    {"inicial":4,"entradas":[-1,-1,-1,-1,1],"final":6},
    {"inicial":4,"entradas":[-1,1,1,-1,0],"final":0},
    {"inicial":4,"entradas":[-1,0,-1,-1,0],"final":4},
    {"inicial":4,"entradas":[-1,1,0,0,0],"final":2},

    {"inicial":5,"entradas":[-1,-1,-1,-1,1],"final":6}, 
    {"inicial":5,"entradas":[-1,1,1,-1,0],"final":0},
    {"inicial":5,"entradas":[-1,-1,-1,1,0],"final":1},
    {"inicial":5,"entradas":[-1,-1,0,0,0],"final":5},    
    {"inicial":5,"entradas":[-1,0,1,0,0],"final":3},

    {"inicial":6,"entradas":[-1,-1,-1,-1,1],"final":6},
    {"inicial":6,"entradas":[-1,-1,-1,-1,0],"final":1}
  ]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/GHNConfig.json
conenido decoded: -->{
	"activaGoogleHomeNotifier": 0,
	"nombreEquipo": "Todos",
	"idioma": "es"
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/Sensores.json
conenido decoded: -->{
    "Sensores":[
        {
        "nombre":"BMP280_1",
        "tipo": "BMP280",
        "parametros":
            {"direccionI2C":"0x76"}
        }
    ]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/Variables.json
conenido decoded: -->{
    "Variables":[
        {
        "nombre":"TemperaturaExterior",
        "unidades":"ºC",
        "descripcion":"Temepratura medida en el jardin",
        "sensor": "BMP280_1",
        "tipo":"TEMPERATURA",
        "Humbrales":[
            {"nombre": "mucho frio", "tipo":"inferior", "valor": 0, "mensaje": "Hace frio"},
            {"nombre": "mucho calor", "tipo":"superior", "valor": 40, "mensaje": "¡¡Que calor!!"}
            ]
        },
        {
        "nombre":"PresionAtmosferica",
        "unidades":"bar",
        "descripcion":"Presion atmosferica",
        "sensor": "BMP280_1",
        "tipo":"PRESION",
        "Humbrales":[
            {"nombre": "tiempo inestable", "tipo":"inferior", "valor": 840, "mensaje": "puede llover"},
            {"nombre": "anticiclonazo", "tipo":"superior", "valor": 1100, "mensaje": "Solete"}
            ]
        }                      
    ]
}<--
Expecting value: line 1 column 1 (char 0)
Topic que genera el error:  domoticae/jlopezt/test99/humbrales
Mensaje que genera el error:  
Error en la consulta
Expecting value: line 1 column 1 (char 0)
Topic que genera el error:  domoticae/jlopezt/test99/entradas
Mensaje que genera el error:  
Error en la consulta
Expecting value: line 1 column 1 (char 0)
Topic que genera el error:  domoticae/jlopezt/test99/salidas
Mensaje que genera el error:  
Error en la consulta
Expecting value: line 1 column 1 (char 0)
Topic que genera el error:  domoticae/jlopezt/test99/secuenciador
Mensaje que genera el error:  
Error en la consulta
Expecting value: line 1 column 1 (char 0)
Topic que genera el error:  domoticae/jlopezt/test99/buzon
Mensaje que genera el error:  
Error en la consulta
Expecting value: line 1 column 1 (char 0)
Topic que genera el error:  domoticae/jlopezt/test99/mensajes
Mensaje que genera el error:  
Error en la consulta
Expecting value: line 1 column 1 (char 0)
Topic que genera el error:  domoticae/jlopezt/test99/maquinaEstados
Mensaje que genera el error:  
Error en la consulta
Entrando en dispositivo
Seion espirada
usuario: jlopezt password txt: Jorsadi_0 password: 125554099666a6632fe664b59fe7d4e4
usuario de la cookie: jlopezt
usuario recbido: jlopezt
Consulta: select SID,DID,validado from Dispositivos where CID="jlopezt" order by SID
({'SID': 'test99', 'DID': '00006c3f9a9ef0c8', 'validado': 1},)
Entrando en dispositivo
Ha llegado a GET
Accion: configuracion
Entrando en ficheroConfiguracion (jlopezt|test99|Config)...
se leera de usuarios/jlopezt/test99/Config.json
{
	"nombre_dispositivo": "CONFIGURACION DEPRECADA",
	"URLPlataforma": "https://prepro.domoticae.com",
	"NivelActivo":0
}
Entrando en dispositivo
Ha llegado a GET
Accion: None
(0, 3)
usuario de la cookie: jlopezt
usuario recbido: jlopezt
Consulta: select SID,DID,validado from Dispositivos where CID="jlopezt" order by SID
({'SID': 'test99', 'DID': '00006c3f9a9ef0c8', 'validado': 1},)
Entrando en dispositivo
Ha llegado a GET
Accion: configuracion
Entrando en ficheroConfiguracion (jlopezt|test99|Config)...
se leera de usuarios/jlopezt/test99/Config.json
{
	"nombre_dispositivo": "CONFIGURACION DEPRECADA",
	"URLPlataforma": "https://prepro.domoticae.com",
	"NivelActivo":0
}
(0, 4)
Entrando en dispositivo
Ha llegado a GET
Accion: None
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se leera de usuarios/jlopezt/test99/Config.json
{
	"nombre_dispositivo": "CONFIGURACION DEPRECADA",
	"URLPlataforma": "https://prepro.domoticae.com",
	"NivelActivo":0
}
Consulta: select Usuario from Usuarios where Usuario='jlopezt'
Consulta: select * from Dispositivos where DID='00006c3f9a9ef0c8'
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/Config.json
conenido decoded: -->{
	"nombre_dispositivo": "CONFIGURACION DEPRECADA",
	"URLPlataforma": "https://prepro.domoticae.com",
	"NivelActivo":0
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/WiFiConfig.json
conenido decoded: -->{
  "wifiIP":"10.68.0.55",
  "wifiGW":"10.68.1.1",
  "wifiNet":"255.255.0.0",
  "wifiDNS1":"8.8.8.8",
  "wifiDNS2":"8.8.4.4",
  "wifi": [
    {"ssid": "BASE1" ,"password": "11223344556677889900abcdef"}
  ]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/MQTTConfig.json
conenido decoded: -->{ 
  "IPBroker": "10.68.0.100", 
  "puerto": 1883,
  "xxxmodoMQTT": "TLS",
  "xxxBrokerDir": "mqtt.lopeztola.com",
  "xxxpuerto": 8883, 
  "usuarioMQTT": "domoticae", 
  "passwordMQTT": "88716", 
  "ID_MQTT": "CONFIGURACION DEPRECADA", 
  "topicRoot": "domoticae", 
  "publicarMedidas": 0,
  "publicarEntradas": 1,
  "publicarSalidas": 1,
  "publicarSecuenciador": 1,
  "publicarMaquinaEstados":1
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/EntradasConfig.json
conenido decoded: -->{
	"Entradas": [
		{
			"GPIO": 2, 
			"nombre": "Pulsador", 
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
				{"valor": 0, "texto": "-"},
				{"valor": 1, "texto": "Pulsado"}
			],
			"Mensajes": [
				{"valor": 0, "texto": "--"},
				{"valor": 1, "texto": "Pulsado"}
			]
		},
		{
			"GPIO": 4, 
			"nombre": "Arriba", 
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
				{"valor": 0, "texto": "-"},
				{"valor": 1, "texto": "Arriba"}
			],
			"Mensajes": [
				{"valor": 0, "texto": "--"},
				{"valor": 1, "texto": "Puerta abierta"}
			]
		},
		{
			"GPIO": 12, 
			"nombre": "Abajo", 
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
				{"valor": 0, "texto": "-"},
				{"valor": 1, "texto": "Abajo"}
			],
			"Mensajes": [
				{"valor": 0, "texto": "--"},
				{"valor": 1, "texto": "Puerta cerrada"}
			]
		},
		{
			"GPIO": 14, 
			"nombre": "Barrera",
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
			  {"valor": 0, "texto": "Paso libre"},
			  {"valor": 1, "texto": "Objeto detectado"}
			],
			"Mensajes": [
			  {"valor": 0, "texto": "Paso libre"},
			  {"valor": 1, "texto": "Objeto detectado"}
			]
		  },
		  {
			"GPIO": 15, 
			"nombre": "Emergencia",
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
			  {"valor": 0, "texto": "Apagado"},
			  {"valor": 1, "texto": "Encendido"}
			],
			"Mensajes": [
			  {"valor": 0, "texto": "Apagado"},
			  {"valor": 1, "texto": "Encendido"}
			]
		  }  			
	]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/SalidasConfig.json
conenido decoded: -->{
  "Salidas": [
    {
      "GPIO": 21, 
      "nombre": "Subir",
      "tipo": 0,
      "inicio": "off",
      "anchoPulso": 1000,
      "modo": 3,
      "controlador": 0,
      "Estados": [
        {"valor": 0, "texto": "Apagado"},
        {"valor": 1, "texto": "Encendido"}
      ],
      "Mensajes": [
        {"valor": 0, "texto": "Apagado"},
        {"valor": 1, "texto": "Encendido"}
      ]
    },
    {
      "GPIO": 19, 
      "nombre": "Bajar",
      "tipo": 0,
      "inicio": "off",
      "anchoPulso": 1000,
      "modo": 3,
      "controlador": 0,
      "Estados": [
        {"valor": 0, "texto": "Apagado"},
        {"valor": 1, "texto": "Encendido"}
      ],
      "Mensajes": [
        {"valor": 0, "texto": "Apagado"},
        {"valor": 1, "texto": "Encendido"}
      ]
    },
    {
      "GPIO": 18, 
      "nombre": "LuzRoja",
      "tipo": 0,
      "inicio": "off",
      "anchoPulso": 1000,
      "modo": 3,
      "controlador": 0,
      "Estados": [
        {"valor": 0, "texto": "--"},
        {"valor": 1, "texto": "Alarma"}
      ],
      "Mensajes": [
        {"valor": 0, "texto": "--"},
        {"valor": 1, "texto": "Alarma"}
      ]
    },   
    {
      "GPIO": 5,
      "nombre": "boton",
      "tipo": 0,
      "inicio": "off",
      "anchoPulso": 1000,
      "modo": 0,
      "controlador": 0,
      "Estados": [
        {"valor": 0, "texto": "No se"},
        {"valor": 1, "texto": "Pulsado"}
      ],
      "Mensajes": [
        {"valor": 0, "texto": "No se que poner"},
        {"valor": 1, "texto": "Boton pulsado"}
      ]
    }
  ]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/SecuenciadorConfig.json
conenido decoded: -->{
	"estadoInicial": 1,
	"Planes":[]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/MaqEstadosConfig.json
conenido decoded: -->{
	"Entradas": [0,1,2,3,4],
	"Salidas": [0,1,2],
	"Estados":[
		{"id":0, "nombre": "Error",  "salidas":[0,0,0], "timeout": -1},
		{"id":1, "nombre": "Inicio", "salidas":[0,0,0], "timeout": -1},
		{"id":2, "nombre": "Arriba", "salidas":[0,0,0], "timeout": -1},
		{"id":3, "nombre": "Abajo",  "salidas":[0,0,0], "timeout": -1},
		{"id":4, "nombre": "Subiendo", "salidas":[1,0,0], "timeout": 30},
		{"id":5, "nombre": "Bajando",  "salidas":[0,1,0], "timeout": 30},
		{"id":6, "nombre": "Alarma",  "salidas":[0,0,1], "timeout": 0}
		],
	"Transiciones":[
    {"inicial":0,"entradas":[-1,-1,-1,-1,-1],"final":0},

    {"inicial":1,"entradas":[-1,-1,-1,-1,1],"final":6},
    {"inicial":1,"entradas":[-1,-1,-1,1,0],"final":4},
    {"inicial":1,"entradas":[-1,1,1,0,0],"final":0},
    {"inicial":1,"entradas":[-1,0,0,0,0],"final":4},
    {"inicial":1,"entradas":[-1,1,0,0,0],"final":2},
    {"inicial":1,"entradas":[-1,0,1,0,0],"final":3},

    {"inicial":2,"entradas":[-1,-1,-1,-1,1],"final":6},    
    {"inicial":2,"entradas":[-1,-1,1,0,0],"final":0},
    {"inicial":2,"entradas":[0,1,0,0,0],"final":2},
    {"inicial":2,"entradas":[1,1,0,0,0],"final":5},
    {"inicial":2,"entradas":[-1,0,0,0,0],"final":5},

    {"inicial":3,"entradas":[-1,-1,-1,-1,1],"final":6},
    {"inicial":3,"entradas":[-1,1,-1,0,0],"final":0},
    {"inicial":3,"entradas":[0,0,1,0,0],"final":3},
    {"inicial":3,"entradas":[1,0,1,0,0],"final":4},
    {"inicial":3,"entradas":[-1,0,0,0,0],"final":4},

    {"inicial":4,"entradas":[-1,-1,-1,-1,1],"final":6},
    {"inicial":4,"entradas":[-1,1,1,-1,0],"final":0},
    {"inicial":4,"entradas":[-1,0,-1,-1,0],"final":4},
    {"inicial":4,"entradas":[-1,1,0,0,0],"final":2},

    {"inicial":5,"entradas":[-1,-1,-1,-1,1],"final":6}, 
    {"inicial":5,"entradas":[-1,1,1,-1,0],"final":0},
    {"inicial":5,"entradas":[-1,-1,-1,1,0],"final":1},
    {"inicial":5,"entradas":[-1,-1,0,0,0],"final":5},    
    {"inicial":5,"entradas":[-1,0,1,0,0],"final":3},

    {"inicial":6,"entradas":[-1,-1,-1,-1,1],"final":6},
    {"inicial":6,"entradas":[-1,-1,-1,-1,0],"final":1}
  ]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/GHNConfig.json
conenido decoded: -->{
	"activaGoogleHomeNotifier": 0,
	"nombreEquipo": "Todos",
	"idioma": "es"
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/Sensores.json
conenido decoded: -->{
    "Sensores":[
        {
        "nombre":"BMP280_1",
        "tipo": "BMP280",
        "parametros":
            {"direccionI2C":"0x76"}
        }
    ]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/Variables.json
conenido decoded: -->{
    "Variables":[
        {
        "nombre":"TemperaturaExterior",
        "unidades":"ºC",
        "descripcion":"Temepratura medida en el jardin",
        "sensor": "BMP280_1",
        "tipo":"TEMPERATURA",
        "Humbrales":[
            {"nombre": "mucho frio", "tipo":"inferior", "valor": 0, "mensaje": "Hace frio"},
            {"nombre": "mucho calor", "tipo":"superior", "valor": 40, "mensaje": "¡¡Que calor!!"}
            ]
        },
        {
        "nombre":"PresionAtmosferica",
        "unidades":"bar",
        "descripcion":"Presion atmosferica",
        "sensor": "BMP280_1",
        "tipo":"PRESION",
        "Humbrales":[
            {"nombre": "tiempo inestable", "tipo":"inferior", "valor": 840, "mensaje": "puede llover"},
            {"nombre": "anticiclonazo", "tipo":"superior", "valor": 1100, "mensaje": "Solete"}
            ]
        }                      
    ]
}<--
usuario de la cookie: jlopezt
usuario recbido: jlopezt
Consulta: select SID,DID,validado from Dispositivos where CID="jlopezt" order by SID
({'SID': 'test99', 'DID': '00006c3f9a9ef0c8', 'validado': 1},)
Entrando en dispositivo
Ha llegado a GET
Accion: configuracion
Entrando en ficheroConfiguracion (jlopezt|test99|Config)...
se leera de usuarios/jlopezt/test99/Config.json
{
	"nombre_dispositivo": "CONFIGURACION DEPRECADA",
	"URLPlataforma": "https://prepro.domoticae.com",
	"NivelActivo":0
}
Entrando en ficheroConfiguracion (jlopezt|test99|SalidasConfig)...
se leera de usuarios/jlopezt/test99/SalidasConfig.json
{
  "Salidas": [
    {
      "GPIO": 21, 
      "nombre": "Subir",
      "tipo": 0,
      "inicio": "off",
      "anchoPulso": 1000,
      "modo": 3,
      "controlador": 0,
      "Estados": [
        {"valor": 0, "texto": "Apagado"},
        {"valor": 1, "texto": "Encendido"}
      ],
      "Mensajes": [
        {"valor": 0, "texto": "Apagado"},
        {"valor": 1, "texto": "Encendido"}
      ]
    },
    {
      "GPIO": 19, 
      "nombre": "Bajar",
      "tipo": 0,
      "inicio": "off",
      "anchoPulso": 1000,
      "modo": 3,
      "controlador": 0,
      "Estados": [
        {"valor": 0, "texto": "Apagado"},
        {"valor": 1, "texto": "Encendido"}
      ],
      "Mensajes": [
        {"valor": 0, "texto": "Apagado"},
        {"valor": 1, "texto": "Encendido"}
      ]
    },
    {
      "GPIO": 18, 
      "nombre": "LuzRoja",
      "tipo": 0,
      "inicio": "off",
      "anchoPulso": 1000,
      "modo": 3,
      "controlador": 0,
      "Estados": [
        {"valor": 0, "texto": "--"},
        {"valor": 1, "texto": "Alarma"}
      ],
      "Mensajes": [
        {"valor": 0, "texto": "--"},
        {"valor": 1, "texto": "Alarma"}
      ]
    },   
    {
      "GPIO": 5,
      "nombre": "boton",
      "tipo": 0,
      "inicio": "off",
      "anchoPulso": 1000,
      "modo": 0,
      "controlador": 0,
      "Estados": [
        {"valor": 0, "texto": "No se"},
        {"valor": 1, "texto": "Pulsado"}
      ],
      "Mensajes": [
        {"valor": 0, "texto": "No se que poner"},
        {"valor": 1, "texto": "Boton pulsado"}
      ]
    }
  ]
}
Entrando en ficheroConfiguracion (jlopezt|test99|WiFiConfig)...
se leera de usuarios/jlopezt/test99/WiFiConfig.json
{
  "wifiIP":"10.68.0.55",
  "wifiGW":"10.68.1.1",
  "wifiNet":"255.255.0.0",
  "wifiDNS1":"8.8.8.8",
  "wifiDNS2":"8.8.4.4",
  "wifi": [
    {"ssid": "BASE1" ,"password": "11223344556677889900abcdef"}
  ]
}
Entrando en ficheroConfiguracion (jlopezt|test99|MQTTConfig)...
se leera de usuarios/jlopezt/test99/MQTTConfig.json
{ 
  "IPBroker": "10.68.0.100", 
  "puerto": 1883,
  "xxxmodoMQTT": "TLS",
  "xxxBrokerDir": "mqtt.lopeztola.com",
  "xxxpuerto": 8883, 
  "usuarioMQTT": "domoticae", 
  "passwordMQTT": "88716", 
  "ID_MQTT": "CONFIGURACION DEPRECADA", 
  "topicRoot": "domoticae", 
  "publicarMedidas": 0,
  "publicarEntradas": 1,
  "publicarSalidas": 1,
  "publicarSecuenciador": 1,
  "publicarMaquinaEstados":1
}
Entrando en ficheroConfiguracion (jlopezt|test99|EntradasConfig)...
se leera de usuarios/jlopezt/test99/EntradasConfig.json
{
	"Entradas": [
		{
			"GPIO": 2, 
			"nombre": "Pulsador", 
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
				{"valor": 0, "texto": "-"},
				{"valor": 1, "texto": "Pulsado"}
			],
			"Mensajes": [
				{"valor": 0, "texto": "--"},
				{"valor": 1, "texto": "Pulsado"}
			]
		},
		{
			"GPIO": 4, 
			"nombre": "Arriba", 
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
				{"valor": 0, "texto": "-"},
				{"valor": 1, "texto": "Arriba"}
			],
			"Mensajes": [
				{"valor": 0, "texto": "--"},
				{"valor": 1, "texto": "Puerta abierta"}
			]
		},
		{
			"GPIO": 12, 
			"nombre": "Abajo", 
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
				{"valor": 0, "texto": "-"},
				{"valor": 1, "texto": "Abajo"}
			],
			"Mensajes": [
				{"valor": 0, "texto": "--"},
				{"valor": 1, "texto": "Puerta cerrada"}
			]
		},
		{
			"GPIO": 14, 
			"nombre": "Barrera",
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
			  {"valor": 0, "texto": "Paso libre"},
			  {"valor": 1, "texto": "Objeto detectado"}
			],
			"Mensajes": [
			  {"valor": 0, "texto": "Paso libre"},
			  {"valor": 1, "texto": "Objeto detectado"}
			]
		  },
		  {
			"GPIO": 15, 
			"nombre": "Emergencia",
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
			  {"valor": 0, "texto": "Apagado"},
			  {"valor": 1, "texto": "Encendido"}
			],
			"Mensajes": [
			  {"valor": 0, "texto": "Apagado"},
			  {"valor": 1, "texto": "Encendido"}
			]
		  }  			
	]
}
Entrando en ficheroConfiguracion (jlopezt|test99|EntradasConfig)...
se guardara en usuarios/jlopezt/test99/EntradasConfig.json
Entrando en dispositivo
Ha llegado a GET
Accion: configuracion
Entrando en ficheroConfiguracion (jlopezt|test99|Config)...
se leera de usuarios/jlopezt/test99/Config.json
{
	"nombre_dispositivo": "CONFIGURACION DEPRECADA",
	"URLPlataforma": "https://prepro.domoticae.com",
	"NivelActivo":0
}
Entrando en ficheroConfiguracion (jlopezt|test99|EntradasConfig)...
se leera de usuarios/jlopezt/test99/EntradasConfig.json
{
	"Entradas": [
		{
			"GPIO": 2, 
			"nombre": "Pulsador1", 
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
				{"valor": 0, "texto": "-"},
				{"valor": 1, "texto": "Pulsado"}
			],
			"Mensajes": [
				{"valor": 0, "texto": "--"},
				{"valor": 1, "texto": "Pulsado"}
			]
		},
		{
			"GPIO": 4, 
			"nombre": "Arriba", 
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
				{"valor": 0, "texto": "-"},
				{"valor": 1, "texto": "Arriba"}
			],
			"Mensajes": [
				{"valor": 0, "texto": "--"},
				{"valor": 1, "texto": "Puerta abierta"}
			]
		},
		{
			"GPIO": 12, 
			"nombre": "Abajo", 
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
				{"valor": 0, "texto": "-"},
				{"valor": 1, "texto": "Abajo"}
			],
			"Mensajes": [
				{"valor": 0, "texto": "--"},
				{"valor": 1, "texto": "Puerta cerrada"}
			]
		},
		{
			"GPIO": 14, 
			"nombre": "Barrera",
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
			  {"valor": 0, "texto": "Paso libre"},
			  {"valor": 1, "texto": "Objeto detectado"}
			],
			"Mensajes": [
			  {"valor": 0, "texto": "Paso libre"},
			  {"valor": 1, "texto": "Objeto detectado"}
			]
		  },
		  {
			"GPIO": 15, 
			"nombre": "Emergencia",
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
			  {"valor": 0, "texto": "Apagado"},
			  {"valor": 1, "texto": "Encendido"}
			],
			"Mensajes": [
			  {"valor": 0, "texto": "Apagado"},
			  {"valor": 1, "texto": "Encendido"}
			]
		  }  			
	]
}
Expecting value: line 1 column 1 (char 0)
Topic que genera el error:  domoticae/jlopezt/test99/humbrales
Mensaje que genera el error:  
Error en la consulta
Expecting value: line 1 column 1 (char 0)
Topic que genera el error:  domoticae/jlopezt/test99/entradas
Mensaje que genera el error:  
Error en la consulta
Expecting value: line 1 column 1 (char 0)
Topic que genera el error:  domoticae/jlopezt/test99/salidas
Mensaje que genera el error:  
Error en la consulta
Expecting value: line 1 column 1 (char 0)
Topic que genera el error:  domoticae/jlopezt/test99/secuenciador
Mensaje que genera el error:  
Error en la consulta
Expecting value: line 1 column 1 (char 0)
Topic que genera el error:  domoticae/jlopezt/test99/buzon
Mensaje que genera el error:  
Error en la consulta
Expecting value: line 1 column 1 (char 0)
Topic que genera el error:  domoticae/jlopezt/test99/mensajes
Mensaje que genera el error:  
Error en la consulta
Expecting value: line 1 column 1 (char 0)
Topic que genera el error:  domoticae/jlopezt/test99/entradas
Mensaje que genera el error:  
Error en la consulta
Expecting value: line 1 column 1 (char 0)
Topic que genera el error:  domoticae/jlopezt/test99/salidas
Mensaje que genera el error:  
Error en la consulta
Expecting value: line 1 column 1 (char 0)
Topic que genera el error:  domoticae/jlopezt/test99/secuenciador
Mensaje que genera el error:  
Error en la consulta
Expecting value: line 1 column 1 (char 0)
Topic que genera el error:  domoticae/jlopezt/test99/humbrales
Mensaje que genera el error:  
Error en la consulta
(0, 5)
(0, 6)
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se leera de usuarios/jlopezt/test99/EntradasConfig.json
{
	"Entradas": [
		{
			"GPIO": 2, 
			"nombre": "Pulsador1", 
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
				{"valor": 0, "texto": "-"},
				{"valor": 1, "texto": "Pulsado"}
			],
			"Mensajes": [
				{"valor": 0, "texto": "--"},
				{"valor": 1, "texto": "Pulsado"}
			]
		},
		{
			"GPIO": 4, 
			"nombre": "Arriba", 
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
				{"valor": 0, "texto": "-"},
				{"valor": 1, "texto": "Arriba"}
			],
			"Mensajes": [
				{"valor": 0, "texto": "--"},
				{"valor": 1, "texto": "Puerta abierta"}
			]
		},
		{
			"GPIO": 12, 
			"nombre": "Abajo", 
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
				{"valor": 0, "texto": "-"},
				{"valor": 1, "texto": "Abajo"}
			],
			"Mensajes": [
				{"valor": 0, "texto": "--"},
				{"valor": 1, "texto": "Puerta cerrada"}
			]
		},
		{
			"GPIO": 14, 
			"nombre": "Barrera",
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
			  {"valor": 0, "texto": "Paso libre"},
			  {"valor": 1, "texto": "Objeto detectado"}
			],
			"Mensajes": [
			  {"valor": 0, "texto": "Paso libre"},
			  {"valor": 1, "texto": "Objeto detectado"}
			]
		  },
		  {
			"GPIO": 15, 
			"nombre": "Emergencia",
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
			  {"valor": 0, "texto": "Apagado"},
			  {"valor": 1, "texto": "Encendido"}
			],
			"Mensajes": [
			  {"valor": 0, "texto": "Apagado"},
			  {"valor": 1, "texto": "Encendido"}
			]
		  }  			
	]
}
(0, 7)
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se leera de usuarios/jlopezt/test99/EntradasConfig.json
{
	"Entradas": [
		{
			"GPIO": 2, 
			"nombre": "Pulsador1", 
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
				{"valor": 0, "texto": "-"},
				{"valor": 1, "texto": "Pulsado"}
			],
			"Mensajes": [
				{"valor": 0, "texto": "--"},
				{"valor": 1, "texto": "Pulsado"}
			]
		},
		{
			"GPIO": 4, 
			"nombre": "Arriba", 
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
				{"valor": 0, "texto": "-"},
				{"valor": 1, "texto": "Arriba"}
			],
			"Mensajes": [
				{"valor": 0, "texto": "--"},
				{"valor": 1, "texto": "Puerta abierta"}
			]
		},
		{
			"GPIO": 12, 
			"nombre": "Abajo", 
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
				{"valor": 0, "texto": "-"},
				{"valor": 1, "texto": "Abajo"}
			],
			"Mensajes": [
				{"valor": 0, "texto": "--"},
				{"valor": 1, "texto": "Puerta cerrada"}
			]
		},
		{
			"GPIO": 14, 
			"nombre": "Barrera",
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
			  {"valor": 0, "texto": "Paso libre"},
			  {"valor": 1, "texto": "Objeto detectado"}
			],
			"Mensajes": [
			  {"valor": 0, "texto": "Paso libre"},
			  {"valor": 1, "texto": "Objeto detectado"}
			]
		  },
		  {
			"GPIO": 15, 
			"nombre": "Emergencia",
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
			  {"valor": 0, "texto": "Apagado"},
			  {"valor": 1, "texto": "Encendido"}
			],
			"Mensajes": [
			  {"valor": 0, "texto": "Apagado"},
			  {"valor": 1, "texto": "Encendido"}
			]
		  }  			
	]
}
usuario de la cookie: jlopezt
usuario recbido: jlopezt
Consulta: select SID,DID,validado from Dispositivos where CID="jlopezt" order by SID
({'SID': 'test99', 'DID': '00006c3f9a9ef0c8', 'validado': 1},)
Consulta: select Usuario from Usuarios where Usuario='jlopezt'
Consulta: select * from Dispositivos where DID='00006c3f9a9ef0c8'
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/Config.json
conenido decoded: -->{
	"nombre_dispositivo": "CONFIGURACION DEPRECADA",
	"URLPlataforma": "https://prepro.domoticae.com",
	"NivelActivo":0
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/WiFiConfig.json
conenido decoded: -->{
  "wifiIP":"10.68.0.55",
  "wifiGW":"10.68.1.1",
  "wifiNet":"255.255.0.0",
  "wifiDNS1":"8.8.8.8",
  "wifiDNS2":"8.8.4.4",
  "wifi": [
    {"ssid": "BASE1" ,"password": "11223344556677889900abcdef"}
  ]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/MQTTConfig.json
conenido decoded: -->{ 
  "IPBroker": "10.68.0.100", 
  "puerto": 1883,
  "xxxmodoMQTT": "TLS",
  "xxxBrokerDir": "mqtt.lopeztola.com",
  "xxxpuerto": 8883, 
  "usuarioMQTT": "domoticae", 
  "passwordMQTT": "88716", 
  "ID_MQTT": "CONFIGURACION DEPRECADA", 
  "topicRoot": "domoticae", 
  "publicarMedidas": 0,
  "publicarEntradas": 1,
  "publicarSalidas": 1,
  "publicarSecuenciador": 1,
  "publicarMaquinaEstados":1
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/EntradasConfig.json
conenido decoded: -->{
	"Entradas": [
		{
			"GPIO": 2, 
			"nombre": "Pulsador", 
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
				{"valor": 0, "texto": "-"},
				{"valor": 1, "texto": "Pulsado"}
			],
			"Mensajes": [
				{"valor": 0, "texto": "--"},
				{"valor": 1, "texto": "Pulsado"}
			]
		},
		{
			"GPIO": 4, 
			"nombre": "Arriba", 
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
				{"valor": 0, "texto": "-"},
				{"valor": 1, "texto": "Arriba"}
			],
			"Mensajes": [
				{"valor": 0, "texto": "--"},
				{"valor": 1, "texto": "Puerta abierta"}
			]
		},
		{
			"GPIO": 12, 
			"nombre": "Abajo", 
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
				{"valor": 0, "texto": "-"},
				{"valor": 1, "texto": "Abajo"}
			],
			"Mensajes": [
				{"valor": 0, "texto": "--"},
				{"valor": 1, "texto": "Puerta cerrada"}
			]
		},
		{
			"GPIO": 14, 
			"nombre": "Barrera",
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
			  {"valor": 0, "texto": "Paso libre"},
			  {"valor": 1, "texto": "Objeto detectado"}
			],
			"Mensajes": [
			  {"valor": 0, "texto": "Paso libre"},
			  {"valor": 1, "texto": "Objeto detectado"}
			]
		  },
		  {
			"GPIO": 15, 
			"nombre": "Emergencia",
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
			  {"valor": 0, "texto": "Apagado"},
			  {"valor": 1, "texto": "Encendido"}
			],
			"Mensajes": [
			  {"valor": 0, "texto": "Apagado"},
			  {"valor": 1, "texto": "Encendido"}
			]
		  }  			
	]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/SalidasConfig.json
conenido decoded: -->{
  "Salidas": [
    {
      "GPIO": 21, 
      "nombre": "Subir",
      "tipo": 0,
      "inicio": "off",
      "anchoPulso": 1000,
      "modo": 3,
      "controlador": 0,
      "Estados": [
        {"valor": 0, "texto": "Apagado"},
        {"valor": 1, "texto": "Encendido"}
      ],
      "Mensajes": [
        {"valor": 0, "texto": "Apagado"},
        {"valor": 1, "texto": "Encendido"}
      ]
    },
    {
      "GPIO": 19, 
      "nombre": "Bajar",
      "tipo": 0,
      "inicio": "off",
      "anchoPulso": 1000,
      "modo": 3,
      "controlador": 0,
      "Estados": [
        {"valor": 0, "texto": "Apagado"},
        {"valor": 1, "texto": "Encendido"}
      ],
      "Mensajes": [
        {"valor": 0, "texto": "Apagado"},
        {"valor": 1, "texto": "Encendido"}
      ]
    },
    {
      "GPIO": 18, 
      "nombre": "LuzRoja",
      "tipo": 0,
      "inicio": "off",
      "anchoPulso": 1000,
      "modo": 3,
      "controlador": 0,
      "Estados": [
        {"valor": 0, "texto": "--"},
        {"valor": 1, "texto": "Alarma"}
      ],
      "Mensajes": [
        {"valor": 0, "texto": "--"},
        {"valor": 1, "texto": "Alarma"}
      ]
    },   
    {
      "GPIO": 5,
      "nombre": "boton",
      "tipo": 0,
      "inicio": "off",
      "anchoPulso": 1000,
      "modo": 0,
      "controlador": 0,
      "Estados": [
        {"valor": 0, "texto": "No se"},
        {"valor": 1, "texto": "Pulsado"}
      ],
      "Mensajes": [
        {"valor": 0, "texto": "No se que poner"},
        {"valor": 1, "texto": "Boton pulsado"}
      ]
    }
  ]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/SecuenciadorConfig.json
conenido decoded: -->{
	"estadoInicial": 1,
	"Planes":[]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/MaqEstadosConfig.json
conenido decoded: -->{
	"Entradas": [0,1,2,3,4],
	"Salidas": [0,1,2],
	"Estados":[
		{"id":0, "nombre": "Error",  "salidas":[0,0,0], "timeout": -1},
		{"id":1, "nombre": "Inicio", "salidas":[0,0,0], "timeout": -1},
		{"id":2, "nombre": "Arriba", "salidas":[0,0,0], "timeout": -1},
		{"id":3, "nombre": "Abajo",  "salidas":[0,0,0], "timeout": -1},
		{"id":4, "nombre": "Subiendo", "salidas":[1,0,0], "timeout": 30},
		{"id":5, "nombre": "Bajando",  "salidas":[0,1,0], "timeout": 30},
		{"id":6, "nombre": "Alarma",  "salidas":[0,0,1], "timeout": 0}
		],
	"Transiciones":[
    {"inicial":0,"entradas":[-1,-1,-1,-1,-1],"final":0},

    {"inicial":1,"entradas":[-1,-1,-1,-1,1],"final":6},
    {"inicial":1,"entradas":[-1,-1,-1,1,0],"final":4},
    {"inicial":1,"entradas":[-1,1,1,0,0],"final":0},
    {"inicial":1,"entradas":[-1,0,0,0,0],"final":4},
    {"inicial":1,"entradas":[-1,1,0,0,0],"final":2},
    {"inicial":1,"entradas":[-1,0,1,0,0],"final":3},

    {"inicial":2,"entradas":[-1,-1,-1,-1,1],"final":6},    
    {"inicial":2,"entradas":[-1,-1,1,0,0],"final":0},
    {"inicial":2,"entradas":[0,1,0,0,0],"final":2},
    {"inicial":2,"entradas":[1,1,0,0,0],"final":5},
    {"inicial":2,"entradas":[-1,0,0,0,0],"final":5},

    {"inicial":3,"entradas":[-1,-1,-1,-1,1],"final":6},
    {"inicial":3,"entradas":[-1,1,-1,0,0],"final":0},
    {"inicial":3,"entradas":[0,0,1,0,0],"final":3},
    {"inicial":3,"entradas":[1,0,1,0,0],"final":4},
    {"inicial":3,"entradas":[-1,0,0,0,0],"final":4},

    {"inicial":4,"entradas":[-1,-1,-1,-1,1],"final":6},
    {"inicial":4,"entradas":[-1,1,1,-1,0],"final":0},
    {"inicial":4,"entradas":[-1,0,-1,-1,0],"final":4},
    {"inicial":4,"entradas":[-1,1,0,0,0],"final":2},

    {"inicial":5,"entradas":[-1,-1,-1,-1,1],"final":6}, 
    {"inicial":5,"entradas":[-1,1,1,-1,0],"final":0},
    {"inicial":5,"entradas":[-1,-1,-1,1,0],"final":1},
    {"inicial":5,"entradas":[-1,-1,0,0,0],"final":5},    
    {"inicial":5,"entradas":[-1,0,1,0,0],"final":3},

    {"inicial":6,"entradas":[-1,-1,-1,-1,1],"final":6},
    {"inicial":6,"entradas":[-1,-1,-1,-1,0],"final":1}
  ]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/GHNConfig.json
conenido decoded: -->{
	"activaGoogleHomeNotifier": 0,
	"nombreEquipo": "Todos",
	"idioma": "es"
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/Sensores.json
conenido decoded: -->{
    "Sensores":[
        {
        "nombre":"BMP280_1",
        "tipo": "BMP280",
        "parametros":
            {"direccionI2C":"0x76"}
        }
    ]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/Variables.json
conenido decoded: -->{
    "Variables":[
        {
        "nombre":"TemperaturaExterior",
        "unidades":"ºC",
        "descripcion":"Temepratura medida en el jardin",
        "sensor": "BMP280_1",
        "tipo":"TEMPERATURA",
        "Humbrales":[
            {"nombre": "mucho frio", "tipo":"inferior", "valor": 0, "mensaje": "Hace frio"},
            {"nombre": "mucho calor", "tipo":"superior", "valor": 40, "mensaje": "¡¡Que calor!!"}
            ]
        },
        {
        "nombre":"PresionAtmosferica",
        "unidades":"bar",
        "descripcion":"Presion atmosferica",
        "sensor": "BMP280_1",
        "tipo":"PRESION",
        "Humbrales":[
            {"nombre": "tiempo inestable", "tipo":"inferior", "valor": 840, "mensaje": "puede llover"},
            {"nombre": "anticiclonazo", "tipo":"superior", "valor": 1100, "mensaje": "Solete"}
            ]
        }                      
    ]
}<--
Entrando en dispositivo
Ha llegado a GET
Accion: configuracion
Entrando en ficheroConfiguracion (jlopezt|test99|Config)...
se leera de usuarios/jlopezt/test99/Config.json
{
	"nombre_dispositivo": "CONFIGURACION DEPRECADA",
	"URLPlataforma": "https://prepro.domoticae.com",
	"NivelActivo":0
}
Entrando en ficheroConfiguracion (jlopezt|test99|EntradasConfig)...
se leera de usuarios/jlopezt/test99/EntradasConfig.json
{
	"Entradas": [
		{
			"GPIO": 2, 
			"nombre": "Pulsador", 
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
				{"valor": 0, "texto": "-"},
				{"valor": 1, "texto": "Pulsado"}
			],
			"Mensajes": [
				{"valor": 0, "texto": "--"},
				{"valor": 1, "texto": "Pulsado"}
			]
		},
		{
			"GPIO": 4, 
			"nombre": "Arriba", 
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
				{"valor": 0, "texto": "-"},
				{"valor": 1, "texto": "Arriba"}
			],
			"Mensajes": [
				{"valor": 0, "texto": "--"},
				{"valor": 1, "texto": "Puerta abierta"}
			]
		},
		{
			"GPIO": 12, 
			"nombre": "Abajo", 
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
				{"valor": 0, "texto": "-"},
				{"valor": 1, "texto": "Abajo"}
			],
			"Mensajes": [
				{"valor": 0, "texto": "--"},
				{"valor": 1, "texto": "Puerta cerrada"}
			]
		},
		{
			"GPIO": 14, 
			"nombre": "Barrera",
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
			  {"valor": 0, "texto": "Paso libre"},
			  {"valor": 1, "texto": "Objeto detectado"}
			],
			"Mensajes": [
			  {"valor": 0, "texto": "Paso libre"},
			  {"valor": 1, "texto": "Objeto detectado"}
			]
		  },
		  {
			"GPIO": 15, 
			"nombre": "Emergencia",
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
			  {"valor": 0, "texto": "Apagado"},
			  {"valor": 1, "texto": "Encendido"}
			],
			"Mensajes": [
			  {"valor": 0, "texto": "Apagado"},
			  {"valor": 1, "texto": "Encendido"}
			]
		  }  			
	]
}
Consulta: select Usuario from Usuarios where Usuario='jlopezt'
Consulta: select * from Dispositivos where DID='00006c3f9a9ef0c8'
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/Config.json
conenido decoded: -->{
	"nombre_dispositivo": "CONFIGURACION DEPRECADA",
	"URLPlataforma": "https://prepro.domoticae.com",
	"NivelActivo":0
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/WiFiConfig.json
conenido decoded: -->{
  "wifiIP":"10.68.0.55",
  "wifiGW":"10.68.1.1",
  "wifiNet":"255.255.0.0",
  "wifiDNS1":"8.8.8.8",
  "wifiDNS2":"8.8.4.4",
  "wifi": [
    {"ssid": "BASE1" ,"password": "11223344556677889900abcdef"}
  ]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/MQTTConfig.json
conenido decoded: -->{ 
  "IPBroker": "10.68.0.100", 
  "puerto": 1883,
  "xxxmodoMQTT": "TLS",
  "xxxBrokerDir": "mqtt.lopeztola.com",
  "xxxpuerto": 8883, 
  "usuarioMQTT": "domoticae", 
  "passwordMQTT": "88716", 
  "ID_MQTT": "CONFIGURACION DEPRECADA", 
  "topicRoot": "domoticae", 
  "publicarMedidas": 0,
  "publicarEntradas": 1,
  "publicarSalidas": 1,
  "publicarSecuenciador": 1,
  "publicarMaquinaEstados":1
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/EntradasConfig.json
conenido decoded: -->{
	"Entradas": [
		{
			"GPIO": 2, 
			"nombre": "Pulsador", 
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
				{"valor": 0, "texto": "-"},
				{"valor": 1, "texto": "Pulsado"}
			],
			"Mensajes": [
				{"valor": 0, "texto": "--"},
				{"valor": 1, "texto": "Pulsado"}
			]
		},
		{
			"GPIO": 4, 
			"nombre": "Arriba", 
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
				{"valor": 0, "texto": "-"},
				{"valor": 1, "texto": "Arriba"}
			],
			"Mensajes": [
				{"valor": 0, "texto": "--"},
				{"valor": 1, "texto": "Puerta abierta"}
			]
		},
		{
			"GPIO": 12, 
			"nombre": "Abajo", 
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
				{"valor": 0, "texto": "-"},
				{"valor": 1, "texto": "Abajo"}
			],
			"Mensajes": [
				{"valor": 0, "texto": "--"},
				{"valor": 1, "texto": "Puerta cerrada"}
			]
		},
		{
			"GPIO": 14, 
			"nombre": "Barrera",
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
			  {"valor": 0, "texto": "Paso libre"},
			  {"valor": 1, "texto": "Objeto detectado"}
			],
			"Mensajes": [
			  {"valor": 0, "texto": "Paso libre"},
			  {"valor": 1, "texto": "Objeto detectado"}
			]
		  },
		  {
			"GPIO": 15, 
			"nombre": "Emergencia",
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
			  {"valor": 0, "texto": "Apagado"},
			  {"valor": 1, "texto": "Encendido"}
			],
			"Mensajes": [
			  {"valor": 0, "texto": "Apagado"},
			  {"valor": 1, "texto": "Encendido"}
			]
		  }  			
	]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/SalidasConfig.json
conenido decoded: -->{
  "Salidas": [
    {
      "GPIO": 21, 
      "nombre": "Subir",
      "tipo": 0,
      "inicio": "off",
      "anchoPulso": 1000,
      "modo": 3,
      "controlador": 0,
      "Estados": [
        {"valor": 0, "texto": "Apagado"},
        {"valor": 1, "texto": "Encendido"}
      ],
      "Mensajes": [
        {"valor": 0, "texto": "Apagado"},
        {"valor": 1, "texto": "Encendido"}
      ]
    },
    {
      "GPIO": 19, 
      "nombre": "Bajar",
      "tipo": 0,
      "inicio": "off",
      "anchoPulso": 1000,
      "modo": 3,
      "controlador": 0,
      "Estados": [
        {"valor": 0, "texto": "Apagado"},
        {"valor": 1, "texto": "Encendido"}
      ],
      "Mensajes": [
        {"valor": 0, "texto": "Apagado"},
        {"valor": 1, "texto": "Encendido"}
      ]
    },
    {
      "GPIO": 18, 
      "nombre": "LuzRoja",
      "tipo": 0,
      "inicio": "off",
      "anchoPulso": 1000,
      "modo": 3,
      "controlador": 0,
      "Estados": [
        {"valor": 0, "texto": "--"},
        {"valor": 1, "texto": "Alarma"}
      ],
      "Mensajes": [
        {"valor": 0, "texto": "--"},
        {"valor": 1, "texto": "Alarma"}
      ]
    },   
    {
      "GPIO": 5,
      "nombre": "boton",
      "tipo": 0,
      "inicio": "off",
      "anchoPulso": 1000,
      "modo": 0,
      "controlador": 0,
      "Estados": [
        {"valor": 0, "texto": "No se"},
        {"valor": 1, "texto": "Pulsado"}
      ],
      "Mensajes": [
        {"valor": 0, "texto": "No se que poner"},
        {"valor": 1, "texto": "Boton pulsado"}
      ]
    }
  ]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/SecuenciadorConfig.json
conenido decoded: -->{
	"estadoInicial": 1,
	"Planes":[]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/MaqEstadosConfig.json
conenido decoded: -->{
	"Entradas": [0,1,2,3,4],
	"Salidas": [0,1,2],
	"Estados":[
		{"id":0, "nombre": "Error",  "salidas":[0,0,0], "timeout": -1},
		{"id":1, "nombre": "Inicio", "salidas":[0,0,0], "timeout": -1},
		{"id":2, "nombre": "Arriba", "salidas":[0,0,0], "timeout": -1},
		{"id":3, "nombre": "Abajo",  "salidas":[0,0,0], "timeout": -1},
		{"id":4, "nombre": "Subiendo", "salidas":[1,0,0], "timeout": 30},
		{"id":5, "nombre": "Bajando",  "salidas":[0,1,0], "timeout": 30},
		{"id":6, "nombre": "Alarma",  "salidas":[0,0,1], "timeout": 0}
		],
	"Transiciones":[
    {"inicial":0,"entradas":[-1,-1,-1,-1,-1],"final":0},

    {"inicial":1,"entradas":[-1,-1,-1,-1,1],"final":6},
    {"inicial":1,"entradas":[-1,-1,-1,1,0],"final":4},
    {"inicial":1,"entradas":[-1,1,1,0,0],"final":0},
    {"inicial":1,"entradas":[-1,0,0,0,0],"final":4},
    {"inicial":1,"entradas":[-1,1,0,0,0],"final":2},
    {"inicial":1,"entradas":[-1,0,1,0,0],"final":3},

    {"inicial":2,"entradas":[-1,-1,-1,-1,1],"final":6},    
    {"inicial":2,"entradas":[-1,-1,1,0,0],"final":0},
    {"inicial":2,"entradas":[0,1,0,0,0],"final":2},
    {"inicial":2,"entradas":[1,1,0,0,0],"final":5},
    {"inicial":2,"entradas":[-1,0,0,0,0],"final":5},

    {"inicial":3,"entradas":[-1,-1,-1,-1,1],"final":6},
    {"inicial":3,"entradas":[-1,1,-1,0,0],"final":0},
    {"inicial":3,"entradas":[0,0,1,0,0],"final":3},
    {"inicial":3,"entradas":[1,0,1,0,0],"final":4},
    {"inicial":3,"entradas":[-1,0,0,0,0],"final":4},

    {"inicial":4,"entradas":[-1,-1,-1,-1,1],"final":6},
    {"inicial":4,"entradas":[-1,1,1,-1,0],"final":0},
    {"inicial":4,"entradas":[-1,0,-1,-1,0],"final":4},
    {"inicial":4,"entradas":[-1,1,0,0,0],"final":2},

    {"inicial":5,"entradas":[-1,-1,-1,-1,1],"final":6}, 
    {"inicial":5,"entradas":[-1,1,1,-1,0],"final":0},
    {"inicial":5,"entradas":[-1,-1,-1,1,0],"final":1},
    {"inicial":5,"entradas":[-1,-1,0,0,0],"final":5},    
    {"inicial":5,"entradas":[-1,0,1,0,0],"final":3},

    {"inicial":6,"entradas":[-1,-1,-1,-1,1],"final":6},
    {"inicial":6,"entradas":[-1,-1,-1,-1,0],"final":1}
  ]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/GHNConfig.json
conenido decoded: -->{
	"activaGoogleHomeNotifier": 0,
	"nombreEquipo": "Todos",
	"idioma": "es"
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/Sensores.json
conenido decoded: -->{
    "Sensores":[
        {
        "nombre":"BMP280_1",
        "tipo": "BMP280",
        "parametros":
            {"direccionI2C":"0x76"}
        }
    ]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/Variables.json
conenido decoded: -->{
    "Variables":[
        {
        "nombre":"TemperaturaExterior",
        "unidades":"ºC",
        "descripcion":"Temepratura medida en el jardin",
        "sensor": "BMP280_1",
        "tipo":"TEMPERATURA",
        "Humbrales":[
            {"nombre": "mucho frio", "tipo":"inferior", "valor": 0, "mensaje": "Hace frio"},
            {"nombre": "mucho calor", "tipo":"superior", "valor": 40, "mensaje": "¡¡Que calor!!"}
            ]
        },
        {
        "nombre":"PresionAtmosferica",
        "unidades":"bar",
        "descripcion":"Presion atmosferica",
        "sensor": "BMP280_1",
        "tipo":"PRESION",
        "Humbrales":[
            {"nombre": "tiempo inestable", "tipo":"inferior", "valor": 840, "mensaje": "puede llover"},
            {"nombre": "anticiclonazo", "tipo":"superior", "valor": 1100, "mensaje": "Solete"}
            ]
        }                      
    ]
}<--
Conectado a la base de datos domoticae
Configuracion MQTT
broker: [10.68.0.100]
puerto: [1883]
usuario: [domoticae]
pass: [88716]
pub topic root: [domoticae]
sub topic root: [domoticae]
Conectado al bus MQTT
subscrito al topic: domoticae/#
usuario: jlopezt password txt: Jorsadi_0 password: 125554099666a6632fe664b59fe7d4e4
usuario de la cookie: jlopezt
usuario recbido: jlopezt
Consulta: select SID,DID,validado from Dispositivos where CID="jlopezt" order by SID
({'SID': 'test99', 'DID': '00006c3f9a9ef0c8', 'validado': 1},)
Entrando en dispositivo
Ha llegado a GET
Accion: configuracion
Entrando en ficheroConfiguracion (jlopezt|test99|Config)...
se leera de usuarios/jlopezt/test99/generadosConfig.json
usuario de la cookie: jlopezt
usuario recbido: jlopezt
Consulta: select SID,DID,validado from Dispositivos where CID="jlopezt" order by SID
({'SID': 'test99', 'DID': '00006c3f9a9ef0c8', 'validado': 1},)
Entrando en dispositivo
Ha llegado a GET
Accion: configuracion
Entrando en ficheroConfiguracion (jlopezt|test99|Config)...
se leera de usuarios/jlopezt/test99/generadosConfig.json
Entrando en ficheroConfiguracion (jlopezt|test99|WiFiConfig)...
se leera de usuarios/jlopezt/test99/generadosWiFiConfig.json
Entrando en ficheroConfiguracion (jlopezt|test99|Config)...
se leera de usuarios/jlopezt/test99/generadosConfig.json
Entrando en ficheroConfiguracion (jlopezt|test99|WiFiConfig)...
se leera de usuarios/jlopezt/test99/generadosWiFiConfig.json
Entrando en ficheroConfiguracion (jlopezt|test99|Config)...
se leera de usuarios/jlopezt/test99/generadosConfig.json
Entrando en ficheroConfiguracion (jlopezt|test99|Config)...
se leera de usuarios/jlopezt/test99/generadosConfig.json
Entrando en ficheroConfiguracion (jlopezt|test99|Config)...
se leera de usuarios/jlopezt/test99/generadosConfig.json
Conectado a la base de datos domoticae
Configuracion MQTT
broker: [10.68.0.100]
puerto: [1883]
usuario: [domoticae]
pass: [88716]
pub topic root: [domoticae]
sub topic root: [domoticae]
 * Serving Flask app 'domoticae'
Conectado al bus MQTT
 * Debug mode: on
Conectado a la base de datos domoticae
Configuracion MQTT
broker: [10.68.0.100]
puerto: [1883]
usuario: [domoticae]
pass: [88716]
pub topic root: [domoticae]
sub topic root: [domoticae]
Conectado al bus MQTT
subscrito al topic: domoticae/#
usuario: jlopezt password txt: Jorsadi_0 password: 125554099666a6632fe664b59fe7d4e4
usuario de la cookie: jlopezt
usuario recbido: jlopezt
Consulta: select SID,DID,validado from Dispositivos where CID="jlopezt" order by SID
({'SID': 'test99', 'DID': '00006c3f9a9ef0c8', 'validado': 1},)
Entrando en dispositivo
Ha llegado a GET
Accion: configuracion
Entrando en ficheroConfiguracion (jlopezt|test99|Config)...
se leera de usuarios/jlopezt/test99/generados/Config.json
{
	"nombre_dispositivo": "CONFIGURACION DEPRECADA",
	"URLPlataforma": "https://prepro.domoticae.com",
	"NivelActivo":0
}
Consulta: select Usuario from Usuarios where Usuario='jlopezt'
Consulta: select * from Dispositivos where DID='00006c3f9a9ef0c8'
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/Config.json
conenido decoded: -->{
	"nombre_dispositivo": "CONFIGURACION DEPRECADA",
	"URLPlataforma": "https://prepro.domoticae.com",
	"NivelActivo":0
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/WiFiConfig.json
conenido decoded: -->{
  "wifiIP":"10.68.0.55",
  "wifiGW":"10.68.1.1",
  "wifiNet":"255.255.0.0",
  "wifiDNS1":"8.8.8.8",
  "wifiDNS2":"8.8.4.4",
  "wifi": [
    {"ssid": "BASE1" ,"password": "11223344556677889900abcdef"}
  ]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/MQTTConfig.json
conenido decoded: -->{ 
  "IPBroker": "10.68.0.100", 
  "puerto": 1883,
  "xxxmodoMQTT": "TLS",
  "xxxBrokerDir": "mqtt.lopeztola.com",
  "xxxpuerto": 8883, 
  "usuarioMQTT": "domoticae", 
  "passwordMQTT": "88716", 
  "ID_MQTT": "CONFIGURACION DEPRECADA", 
  "topicRoot": "domoticae", 
  "publicarMedidas": 0,
  "publicarEntradas": 1,
  "publicarSalidas": 1,
  "publicarSecuenciador": 1,
  "publicarMaquinaEstados":1
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/EntradasConfig.json
conenido decoded: -->{
	"Entradas": [
		{
			"GPIO": 2, 
			"nombre": "Pulsador", 
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
				{"valor": 0, "texto": "-"},
				{"valor": 1, "texto": "Pulsado"}
			],
			"Mensajes": [
				{"valor": 0, "texto": "--"},
				{"valor": 1, "texto": "Pulsado"}
			]
		},
		{
			"GPIO": 4, 
			"nombre": "Arriba", 
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
				{"valor": 0, "texto": "-"},
				{"valor": 1, "texto": "Arriba"}
			],
			"Mensajes": [
				{"valor": 0, "texto": "--"},
				{"valor": 1, "texto": "Puerta abierta"}
			]
		},
		{
			"GPIO": 12, 
			"nombre": "Abajo", 
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
				{"valor": 0, "texto": "-"},
				{"valor": 1, "texto": "Abajo"}
			],
			"Mensajes": [
				{"valor": 0, "texto": "--"},
				{"valor": 1, "texto": "Puerta cerrada"}
			]
		},
		{
			"GPIO": 14, 
			"nombre": "Barrera",
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
			  {"valor": 0, "texto": "Paso libre"},
			  {"valor": 1, "texto": "Objeto detectado"}
			],
			"Mensajes": [
			  {"valor": 0, "texto": "Paso libre"},
			  {"valor": 1, "texto": "Objeto detectado"}
			]
		  },
		  {
			"GPIO": 15, 
			"nombre": "Emergencia",
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
			  {"valor": 0, "texto": "Apagado"},
			  {"valor": 1, "texto": "Encendido"}
			],
			"Mensajes": [
			  {"valor": 0, "texto": "Apagado"},
			  {"valor": 1, "texto": "Encendido"}
			]
		  }  			
	]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/SalidasConfig.json
conenido decoded: -->{
  "Salidas": [
    {
      "GPIO": 21, 
      "nombre": "Subir",
      "tipo": 0,
      "inicio": "off",
      "anchoPulso": 1000,
      "modo": 3,
      "controlador": 0,
      "Estados": [
        {"valor": 0, "texto": "Apagado"},
        {"valor": 1, "texto": "Encendido"}
      ],
      "Mensajes": [
        {"valor": 0, "texto": "Apagado"},
        {"valor": 1, "texto": "Encendido"}
      ]
    },
    {
      "GPIO": 19, 
      "nombre": "Bajar",
      "tipo": 0,
      "inicio": "off",
      "anchoPulso": 1000,
      "modo": 3,
      "controlador": 0,
      "Estados": [
        {"valor": 0, "texto": "Apagado"},
        {"valor": 1, "texto": "Encendido"}
      ],
      "Mensajes": [
        {"valor": 0, "texto": "Apagado"},
        {"valor": 1, "texto": "Encendido"}
      ]
    },
    {
      "GPIO": 18, 
      "nombre": "LuzRoja",
      "tipo": 0,
      "inicio": "off",
      "anchoPulso": 1000,
      "modo": 3,
      "controlador": 0,
      "Estados": [
        {"valor": 0, "texto": "--"},
        {"valor": 1, "texto": "Alarma"}
      ],
      "Mensajes": [
        {"valor": 0, "texto": "--"},
        {"valor": 1, "texto": "Alarma"}
      ]
    },   
    {
      "GPIO": 5,
      "nombre": "boton",
      "tipo": 0,
      "inicio": "off",
      "anchoPulso": 1000,
      "modo": 0,
      "controlador": 0,
      "Estados": [
        {"valor": 0, "texto": "No se"},
        {"valor": 1, "texto": "Pulsado"}
      ],
      "Mensajes": [
        {"valor": 0, "texto": "No se que poner"},
        {"valor": 1, "texto": "Boton pulsado"}
      ]
    }
  ]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/SecuenciadorConfig.json
conenido decoded: -->{
	"estadoInicial": 1,
	"Planes":[]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/MaqEstadosConfig.json
conenido decoded: -->{
	"Entradas": [0,1,2,3,4],
	"Salidas": [0,1,2],
	"Estados":[
		{"id":0, "nombre": "Error",  "salidas":[0,0,0], "timeout": -1},
		{"id":1, "nombre": "Inicio", "salidas":[0,0,0], "timeout": -1},
		{"id":2, "nombre": "Arriba", "salidas":[0,0,0], "timeout": -1},
		{"id":3, "nombre": "Abajo",  "salidas":[0,0,0], "timeout": -1},
		{"id":4, "nombre": "Subiendo", "salidas":[1,0,0], "timeout": 30},
		{"id":5, "nombre": "Bajando",  "salidas":[0,1,0], "timeout": 30},
		{"id":6, "nombre": "Alarma",  "salidas":[0,0,1], "timeout": 0}
		],
	"Transiciones":[
    {"inicial":0,"entradas":[-1,-1,-1,-1,-1],"final":0},

    {"inicial":1,"entradas":[-1,-1,-1,-1,1],"final":6},
    {"inicial":1,"entradas":[-1,-1,-1,1,0],"final":4},
    {"inicial":1,"entradas":[-1,1,1,0,0],"final":0},
    {"inicial":1,"entradas":[-1,0,0,0,0],"final":4},
    {"inicial":1,"entradas":[-1,1,0,0,0],"final":2},
    {"inicial":1,"entradas":[-1,0,1,0,0],"final":3},

    {"inicial":2,"entradas":[-1,-1,-1,-1,1],"final":6},    
    {"inicial":2,"entradas":[-1,-1,1,0,0],"final":0},
    {"inicial":2,"entradas":[0,1,0,0,0],"final":2},
    {"inicial":2,"entradas":[1,1,0,0,0],"final":5},
    {"inicial":2,"entradas":[-1,0,0,0,0],"final":5},

    {"inicial":3,"entradas":[-1,-1,-1,-1,1],"final":6},
    {"inicial":3,"entradas":[-1,1,-1,0,0],"final":0},
    {"inicial":3,"entradas":[0,0,1,0,0],"final":3},
    {"inicial":3,"entradas":[1,0,1,0,0],"final":4},
    {"inicial":3,"entradas":[-1,0,0,0,0],"final":4},

    {"inicial":4,"entradas":[-1,-1,-1,-1,1],"final":6},
    {"inicial":4,"entradas":[-1,1,1,-1,0],"final":0},
    {"inicial":4,"entradas":[-1,0,-1,-1,0],"final":4},
    {"inicial":4,"entradas":[-1,1,0,0,0],"final":2},

    {"inicial":5,"entradas":[-1,-1,-1,-1,1],"final":6}, 
    {"inicial":5,"entradas":[-1,1,1,-1,0],"final":0},
    {"inicial":5,"entradas":[-1,-1,-1,1,0],"final":1},
    {"inicial":5,"entradas":[-1,-1,0,0,0],"final":5},    
    {"inicial":5,"entradas":[-1,0,1,0,0],"final":3},

    {"inicial":6,"entradas":[-1,-1,-1,-1,1],"final":6},
    {"inicial":6,"entradas":[-1,-1,-1,-1,0],"final":1}
  ]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/GHNConfig.json
conenido decoded: -->{
	"activaGoogleHomeNotifier": 0,
	"nombreEquipo": "Todos",
	"idioma": "es"
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/Sensores.json
conenido decoded: -->{
    "Sensores":[
        {
        "nombre":"BMP280_1",
        "tipo": "BMP280",
        "parametros":
            {"direccionI2C":"0x76"}
        }
    ]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/Variables.json
conenido decoded: -->{
    "Variables":[
        {
        "nombre":"TemperaturaExterior",
        "unidades":"ºC",
        "descripcion":"Temepratura medida en el jardin",
        "sensor": "BMP280_1",
        "tipo":"TEMPERATURA",
        "Humbrales":[
            {"nombre": "mucho frio", "tipo":"inferior", "valor": 0, "mensaje": "Hace frio"},
            {"nombre": "mucho calor", "tipo":"superior", "valor": 40, "mensaje": "¡¡Que calor!!"}
            ]
        },
        {
        "nombre":"PresionAtmosferica",
        "unidades":"bar",
        "descripcion":"Presion atmosferica",
        "sensor": "BMP280_1",
        "tipo":"PRESION",
        "Humbrales":[
            {"nombre": "tiempo inestable", "tipo":"inferior", "valor": 840, "mensaje": "puede llover"},
            {"nombre": "anticiclonazo", "tipo":"superior", "valor": 1100, "mensaje": "Solete"}
            ]
        }                      
    ]
}<--
Conectado a la base de datos domoticae
Configuracion MQTT
broker: [10.68.0.100]
puerto: [1883]
usuario: [domoticae]
pass: [88716]
pub topic root: [domoticae]
sub topic root: [domoticae]
Conectado al bus MQTT
subscrito al topic: domoticae/#
Consulta: select Usuario from Usuarios where Usuario='jlopezt'
Consulta: select * from Dispositivos where DID='00006c3f9a9ef0c8'
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/Config.json
conenido decoded: -->{
	"nombre_dispositivo": "CONFIGURACION DEPRECADA",
	"URLPlataforma": "https://prepro.domoticae.com",
	"NivelActivo":0
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/WiFiConfig.json
conenido decoded: -->{
  "wifiIP":"10.68.0.55",
  "wifiGW":"10.68.1.1",
  "wifiNet":"255.255.0.0",
  "wifiDNS1":"8.8.8.8",
  "wifiDNS2":"8.8.4.4",
  "wifi": [
    {"ssid": "BASE1" ,"password": "11223344556677889900abcdef"}
  ]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/MQTTConfig.json
conenido decoded: -->{ 
  "IPBroker": "10.68.0.100", 
  "puerto": 1883,
  "xxxmodoMQTT": "TLS",
  "xxxBrokerDir": "mqtt.lopeztola.com",
  "xxxpuerto": 8883, 
  "usuarioMQTT": "domoticae", 
  "passwordMQTT": "88716", 
  "ID_MQTT": "CONFIGURACION DEPRECADA", 
  "topicRoot": "domoticae", 
  "publicarMedidas": 0,
  "publicarEntradas": 1,
  "publicarSalidas": 1,
  "publicarSecuenciador": 1,
  "publicarMaquinaEstados":1
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/EntradasConfig.json
conenido decoded: -->{
	"Entradas": [
		{
			"GPIO": 2, 
			"nombre": "Pulsador", 
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
				{"valor": 0, "texto": "-"},
				{"valor": 1, "texto": "Pulsado"}
			],
			"Mensajes": [
				{"valor": 0, "texto": "--"},
				{"valor": 1, "texto": "Pulsado"}
			]
		},
		{
			"GPIO": 4, 
			"nombre": "Arriba", 
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
				{"valor": 0, "texto": "-"},
				{"valor": 1, "texto": "Arriba"}
			],
			"Mensajes": [
				{"valor": 0, "texto": "--"},
				{"valor": 1, "texto": "Puerta abierta"}
			]
		},
		{
			"GPIO": 12, 
			"nombre": "Abajo", 
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
				{"valor": 0, "texto": "-"},
				{"valor": 1, "texto": "Abajo"}
			],
			"Mensajes": [
				{"valor": 0, "texto": "--"},
				{"valor": 1, "texto": "Puerta cerrada"}
			]
		},
		{
			"GPIO": 14, 
			"nombre": "Barrera",
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
			  {"valor": 0, "texto": "Paso libre"},
			  {"valor": 1, "texto": "Objeto detectado"}
			],
			"Mensajes": [
			  {"valor": 0, "texto": "Paso libre"},
			  {"valor": 1, "texto": "Objeto detectado"}
			]
		  },
		  {
			"GPIO": 15, 
			"nombre": "Emergencia",
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
			  {"valor": 0, "texto": "Apagado"},
			  {"valor": 1, "texto": "Encendido"}
			],
			"Mensajes": [
			  {"valor": 0, "texto": "Apagado"},
			  {"valor": 1, "texto": "Encendido"}
			]
		  }  			
	]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/SalidasConfig.json
conenido decoded: -->{
  "Salidas": [
    {
      "GPIO": 21, 
      "nombre": "Subir",
      "tipo": 0,
      "inicio": "off",
      "anchoPulso": 1000,
      "modo": 3,
      "controlador": 0,
      "Estados": [
        {"valor": 0, "texto": "Apagado"},
        {"valor": 1, "texto": "Encendido"}
      ],
      "Mensajes": [
        {"valor": 0, "texto": "Apagado"},
        {"valor": 1, "texto": "Encendido"}
      ]
    },
    {
      "GPIO": 19, 
      "nombre": "Bajar",
      "tipo": 0,
      "inicio": "off",
      "anchoPulso": 1000,
      "modo": 3,
      "controlador": 0,
      "Estados": [
        {"valor": 0, "texto": "Apagado"},
        {"valor": 1, "texto": "Encendido"}
      ],
      "Mensajes": [
        {"valor": 0, "texto": "Apagado"},
        {"valor": 1, "texto": "Encendido"}
      ]
    },
    {
      "GPIO": 18, 
      "nombre": "LuzRoja",
      "tipo": 0,
      "inicio": "off",
      "anchoPulso": 1000,
      "modo": 3,
      "controlador": 0,
      "Estados": [
        {"valor": 0, "texto": "--"},
        {"valor": 1, "texto": "Alarma"}
      ],
      "Mensajes": [
        {"valor": 0, "texto": "--"},
        {"valor": 1, "texto": "Alarma"}
      ]
    },   
    {
      "GPIO": 5,
      "nombre": "boton",
      "tipo": 0,
      "inicio": "off",
      "anchoPulso": 1000,
      "modo": 0,
      "controlador": 0,
      "Estados": [
        {"valor": 0, "texto": "No se"},
        {"valor": 1, "texto": "Pulsado"}
      ],
      "Mensajes": [
        {"valor": 0, "texto": "No se que poner"},
        {"valor": 1, "texto": "Boton pulsado"}
      ]
    }
  ]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/SecuenciadorConfig.json
conenido decoded: -->{
	"estadoInicial": 1,
	"Planes":[]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/MaqEstadosConfig.json
conenido decoded: -->{
	"Entradas": [0,1,2,3,4],
	"Salidas": [0,1,2],
	"Estados":[
		{"id":0, "nombre": "Error",  "salidas":[0,0,0], "timeout": -1},
		{"id":1, "nombre": "Inicio", "salidas":[0,0,0], "timeout": -1},
		{"id":2, "nombre": "Arriba", "salidas":[0,0,0], "timeout": -1},
		{"id":3, "nombre": "Abajo",  "salidas":[0,0,0], "timeout": -1},
		{"id":4, "nombre": "Subiendo", "salidas":[1,0,0], "timeout": 30},
		{"id":5, "nombre": "Bajando",  "salidas":[0,1,0], "timeout": 30},
		{"id":6, "nombre": "Alarma",  "salidas":[0,0,1], "timeout": 0}
		],
	"Transiciones":[
    {"inicial":0,"entradas":[-1,-1,-1,-1,-1],"final":0},

    {"inicial":1,"entradas":[-1,-1,-1,-1,1],"final":6},
    {"inicial":1,"entradas":[-1,-1,-1,1,0],"final":4},
    {"inicial":1,"entradas":[-1,1,1,0,0],"final":0},
    {"inicial":1,"entradas":[-1,0,0,0,0],"final":4},
    {"inicial":1,"entradas":[-1,1,0,0,0],"final":2},
    {"inicial":1,"entradas":[-1,0,1,0,0],"final":3},

    {"inicial":2,"entradas":[-1,-1,-1,-1,1],"final":6},    
    {"inicial":2,"entradas":[-1,-1,1,0,0],"final":0},
    {"inicial":2,"entradas":[0,1,0,0,0],"final":2},
    {"inicial":2,"entradas":[1,1,0,0,0],"final":5},
    {"inicial":2,"entradas":[-1,0,0,0,0],"final":5},

    {"inicial":3,"entradas":[-1,-1,-1,-1,1],"final":6},
    {"inicial":3,"entradas":[-1,1,-1,0,0],"final":0},
    {"inicial":3,"entradas":[0,0,1,0,0],"final":3},
    {"inicial":3,"entradas":[1,0,1,0,0],"final":4},
    {"inicial":3,"entradas":[-1,0,0,0,0],"final":4},

    {"inicial":4,"entradas":[-1,-1,-1,-1,1],"final":6},
    {"inicial":4,"entradas":[-1,1,1,-1,0],"final":0},
    {"inicial":4,"entradas":[-1,0,-1,-1,0],"final":4},
    {"inicial":4,"entradas":[-1,1,0,0,0],"final":2},

    {"inicial":5,"entradas":[-1,-1,-1,-1,1],"final":6}, 
    {"inicial":5,"entradas":[-1,1,1,-1,0],"final":0},
    {"inicial":5,"entradas":[-1,-1,-1,1,0],"final":1},
    {"inicial":5,"entradas":[-1,-1,0,0,0],"final":5},    
    {"inicial":5,"entradas":[-1,0,1,0,0],"final":3},

    {"inicial":6,"entradas":[-1,-1,-1,-1,1],"final":6},
    {"inicial":6,"entradas":[-1,-1,-1,-1,0],"final":1}
  ]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/GHNConfig.json
conenido decoded: -->{
	"activaGoogleHomeNotifier": 0,
	"nombreEquipo": "Todos",
	"idioma": "es"
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/Sensores.json
conenido decoded: -->{
    "Sensores":[
        {
        "nombre":"BMP280_1",
        "tipo": "BMP280",
        "parametros":
            {"direccionI2C":"0x76"}
        }
    ]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/Variables.json
conenido decoded: -->{
    "Variables":[
        {
        "nombre":"TemperaturaExterior",
        "unidades":"ºC",
        "descripcion":"Temepratura medida en el jardin",
        "sensor": "BMP280_1",
        "tipo":"TEMPERATURA",
        "Humbrales":[
            {"nombre": "mucho frio", "tipo":"inferior", "valor": 0, "mensaje": "Hace frio"},
            {"nombre": "mucho calor", "tipo":"superior", "valor": 40, "mensaje": "¡¡Que calor!!"}
            ]
        },
        {
        "nombre":"PresionAtmosferica",
        "unidades":"bar",
        "descripcion":"Presion atmosferica",
        "sensor": "BMP280_1",
        "tipo":"PRESION",
        "Humbrales":[
            {"nombre": "tiempo inestable", "tipo":"inferior", "valor": 840, "mensaje": "puede llover"},
            {"nombre": "anticiclonazo", "tipo":"superior", "valor": 1100, "mensaje": "Solete"}
            ]
        }                      
    ]
}<--
Consulta: select Usuario from Usuarios where Usuario='jlopezt'
Consulta: select * from Dispositivos where DID='00006c3f9a9ef0c8'
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/Config.json
conenido decoded: -->{
	"nombre_dispositivo": "CONFIGURACION DEPRECADA",
	"URLPlataforma": "https://prepro.domoticae.com",
	"NivelActivo":0
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/WiFiConfig.json
conenido decoded: -->{
  "wifiIP":"10.68.0.55",
  "wifiGW":"10.68.1.1",
  "wifiNet":"255.255.0.0",
  "wifiDNS1":"8.8.8.8",
  "wifiDNS2":"8.8.4.4",
  "wifi": [
    {"ssid": "BASE1" ,"password": "11223344556677889900abcdef"}
  ]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/MQTTConfig.json
conenido decoded: -->{ 
  "IPBroker": "10.68.0.100", 
  "puerto": 1883,
  "xxxmodoMQTT": "TLS",
  "xxxBrokerDir": "mqtt.lopeztola.com",
  "xxxpuerto": 8883, 
  "usuarioMQTT": "domoticae", 
  "passwordMQTT": "88716", 
  "ID_MQTT": "CONFIGURACION DEPRECADA", 
  "topicRoot": "domoticae", 
  "publicarMedidas": 0,
  "publicarEntradas": 1,
  "publicarSalidas": 1,
  "publicarSecuenciador": 1,
  "publicarMaquinaEstados":1
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/EntradasConfig.json
conenido decoded: -->{
	"Entradas": [
		{
			"GPIO": 2, 
			"nombre": "Pulsador", 
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
				{"valor": 0, "texto": "-"},
				{"valor": 1, "texto": "Pulsado"}
			],
			"Mensajes": [
				{"valor": 0, "texto": "--"},
				{"valor": 1, "texto": "Pulsado"}
			]
		},
		{
			"GPIO": 4, 
			"nombre": "Arriba", 
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
				{"valor": 0, "texto": "-"},
				{"valor": 1, "texto": "Arriba"}
			],
			"Mensajes": [
				{"valor": 0, "texto": "--"},
				{"valor": 1, "texto": "Puerta abierta"}
			]
		},
		{
			"GPIO": 12, 
			"nombre": "Abajo", 
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
				{"valor": 0, "texto": "-"},
				{"valor": 1, "texto": "Abajo"}
			],
			"Mensajes": [
				{"valor": 0, "texto": "--"},
				{"valor": 1, "texto": "Puerta cerrada"}
			]
		},
		{
			"GPIO": 14, 
			"nombre": "Barrera",
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
			  {"valor": 0, "texto": "Paso libre"},
			  {"valor": 1, "texto": "Objeto detectado"}
			],
			"Mensajes": [
			  {"valor": 0, "texto": "Paso libre"},
			  {"valor": 1, "texto": "Objeto detectado"}
			]
		  },
		  {
			"GPIO": 15, 
			"nombre": "Emergencia",
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
			  {"valor": 0, "texto": "Apagado"},
			  {"valor": 1, "texto": "Encendido"}
			],
			"Mensajes": [
			  {"valor": 0, "texto": "Apagado"},
			  {"valor": 1, "texto": "Encendido"}
			]
		  }  			
	]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/SalidasConfig.json
conenido decoded: -->{
  "Salidas": [
    {
      "GPIO": 21, 
      "nombre": "Subir",
      "tipo": 0,
      "inicio": "off",
      "anchoPulso": 1000,
      "modo": 3,
      "controlador": 0,
      "Estados": [
        {"valor": 0, "texto": "Apagado"},
        {"valor": 1, "texto": "Encendido"}
      ],
      "Mensajes": [
        {"valor": 0, "texto": "Apagado"},
        {"valor": 1, "texto": "Encendido"}
      ]
    },
    {
      "GPIO": 19, 
      "nombre": "Bajar",
      "tipo": 0,
      "inicio": "off",
      "anchoPulso": 1000,
      "modo": 3,
      "controlador": 0,
      "Estados": [
        {"valor": 0, "texto": "Apagado"},
        {"valor": 1, "texto": "Encendido"}
      ],
      "Mensajes": [
        {"valor": 0, "texto": "Apagado"},
        {"valor": 1, "texto": "Encendido"}
      ]
    },
    {
      "GPIO": 18, 
      "nombre": "LuzRoja",
      "tipo": 0,
      "inicio": "off",
      "anchoPulso": 1000,
      "modo": 3,
      "controlador": 0,
      "Estados": [
        {"valor": 0, "texto": "--"},
        {"valor": 1, "texto": "Alarma"}
      ],
      "Mensajes": [
        {"valor": 0, "texto": "--"},
        {"valor": 1, "texto": "Alarma"}
      ]
    },   
    {
      "GPIO": 5,
      "nombre": "boton",
      "tipo": 0,
      "inicio": "off",
      "anchoPulso": 1000,
      "modo": 0,
      "controlador": 0,
      "Estados": [
        {"valor": 0, "texto": "No se"},
        {"valor": 1, "texto": "Pulsado"}
      ],
      "Mensajes": [
        {"valor": 0, "texto": "No se que poner"},
        {"valor": 1, "texto": "Boton pulsado"}
      ]
    }
  ]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/SecuenciadorConfig.json
conenido decoded: -->{
	"estadoInicial": 1,
	"Planes":[]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/MaqEstadosConfig.json
conenido decoded: -->{
	"Entradas": [0,1,2,3,4],
	"Salidas": [0,1,2],
	"Estados":[
		{"id":0, "nombre": "Error",  "salidas":[0,0,0], "timeout": -1},
		{"id":1, "nombre": "Inicio", "salidas":[0,0,0], "timeout": -1},
		{"id":2, "nombre": "Arriba", "salidas":[0,0,0], "timeout": -1},
		{"id":3, "nombre": "Abajo",  "salidas":[0,0,0], "timeout": -1},
		{"id":4, "nombre": "Subiendo", "salidas":[1,0,0], "timeout": 30},
		{"id":5, "nombre": "Bajando",  "salidas":[0,1,0], "timeout": 30},
		{"id":6, "nombre": "Alarma",  "salidas":[0,0,1], "timeout": 0}
		],
	"Transiciones":[
    {"inicial":0,"entradas":[-1,-1,-1,-1,-1],"final":0},

    {"inicial":1,"entradas":[-1,-1,-1,-1,1],"final":6},
    {"inicial":1,"entradas":[-1,-1,-1,1,0],"final":4},
    {"inicial":1,"entradas":[-1,1,1,0,0],"final":0},
    {"inicial":1,"entradas":[-1,0,0,0,0],"final":4},
    {"inicial":1,"entradas":[-1,1,0,0,0],"final":2},
    {"inicial":1,"entradas":[-1,0,1,0,0],"final":3},

    {"inicial":2,"entradas":[-1,-1,-1,-1,1],"final":6},    
    {"inicial":2,"entradas":[-1,-1,1,0,0],"final":0},
    {"inicial":2,"entradas":[0,1,0,0,0],"final":2},
    {"inicial":2,"entradas":[1,1,0,0,0],"final":5},
    {"inicial":2,"entradas":[-1,0,0,0,0],"final":5},

    {"inicial":3,"entradas":[-1,-1,-1,-1,1],"final":6},
    {"inicial":3,"entradas":[-1,1,-1,0,0],"final":0},
    {"inicial":3,"entradas":[0,0,1,0,0],"final":3},
    {"inicial":3,"entradas":[1,0,1,0,0],"final":4},
    {"inicial":3,"entradas":[-1,0,0,0,0],"final":4},

    {"inicial":4,"entradas":[-1,-1,-1,-1,1],"final":6},
    {"inicial":4,"entradas":[-1,1,1,-1,0],"final":0},
    {"inicial":4,"entradas":[-1,0,-1,-1,0],"final":4},
    {"inicial":4,"entradas":[-1,1,0,0,0],"final":2},

    {"inicial":5,"entradas":[-1,-1,-1,-1,1],"final":6}, 
    {"inicial":5,"entradas":[-1,1,1,-1,0],"final":0},
    {"inicial":5,"entradas":[-1,-1,-1,1,0],"final":1},
    {"inicial":5,"entradas":[-1,-1,0,0,0],"final":5},    
    {"inicial":5,"entradas":[-1,0,1,0,0],"final":3},

    {"inicial":6,"entradas":[-1,-1,-1,-1,1],"final":6},
    {"inicial":6,"entradas":[-1,-1,-1,-1,0],"final":1}
  ]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/GHNConfig.json
conenido decoded: -->{
	"activaGoogleHomeNotifier": 0,
	"nombreEquipo": "Todos",
	"idioma": "es"
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/Sensores.json
conenido decoded: -->{
    "Sensores":[
        {
        "nombre":"BMP280_1",
        "tipo": "BMP280",
        "parametros":
            {"direccionI2C":"0x76"}
        }
    ]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/Variables.json
conenido decoded: -->{
    "Variables":[
        {
        "nombre":"TemperaturaExterior",
        "unidades":"ºC",
        "descripcion":"Temepratura medida en el jardin",
        "sensor": "BMP280_1",
        "tipo":"TEMPERATURA",
        "Humbrales":[
            {"nombre": "mucho frio", "tipo":"inferior", "valor": 0, "mensaje": "Hace frio"},
            {"nombre": "mucho calor", "tipo":"superior", "valor": 40, "mensaje": "¡¡Que calor!!"}
            ]
        },
        {
        "nombre":"PresionAtmosferica",
        "unidades":"bar",
        "descripcion":"Presion atmosferica",
        "sensor": "BMP280_1",
        "tipo":"PRESION",
        "Humbrales":[
            {"nombre": "tiempo inestable", "tipo":"inferior", "valor": 840, "mensaje": "puede llover"},
            {"nombre": "anticiclonazo", "tipo":"superior", "valor": 1100, "mensaje": "Solete"}
            ]
        }                      
    ]
}<--
Conectado a la base de datos domoticae
Configuracion MQTT
broker: [10.68.0.100]
puerto: [1883]
usuario: [domoticae]
pass: [88716]
pub topic root: [domoticae]
sub topic root: [domoticae]
Conectado al bus MQTT
subscrito al topic: domoticae/#
Consulta: select Usuario from Usuarios where Usuario='jlopezt'
Consulta: select * from Dispositivos where DID='00006c3f9a9ef0c8'
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/recibidos/Config.json
conenido decoded: -->{
	"nombre_dispositivo": "CONFIGURACION DEPRECADA",
	"URLPlataforma": "https://prepro.domoticae.com",
	"NivelActivo":0
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/recibidos/WiFiConfig.json
conenido decoded: -->{
  "wifiIP":"10.68.0.55",
  "wifiGW":"10.68.1.1",
  "wifiNet":"255.255.0.0",
  "wifiDNS1":"8.8.8.8",
  "wifiDNS2":"8.8.4.4",
  "wifi": [
    {"ssid": "BASE1" ,"password": "11223344556677889900abcdef"}
  ]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/recibidos/MQTTConfig.json
conenido decoded: -->{ 
  "IPBroker": "10.68.0.100", 
  "puerto": 1883,
  "xxxmodoMQTT": "TLS",
  "xxxBrokerDir": "mqtt.lopeztola.com",
  "xxxpuerto": 8883, 
  "usuarioMQTT": "domoticae", 
  "passwordMQTT": "88716", 
  "ID_MQTT": "CONFIGURACION DEPRECADA", 
  "topicRoot": "domoticae", 
  "publicarMedidas": 0,
  "publicarEntradas": 1,
  "publicarSalidas": 1,
  "publicarSecuenciador": 1,
  "publicarMaquinaEstados":1
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/recibidos/EntradasConfig.json
conenido decoded: -->{
	"Entradas": [
		{
			"GPIO": 2, 
			"nombre": "Pulsador", 
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
				{"valor": 0, "texto": "-"},
				{"valor": 1, "texto": "Pulsado"}
			],
			"Mensajes": [
				{"valor": 0, "texto": "--"},
				{"valor": 1, "texto": "Pulsado"}
			]
		},
		{
			"GPIO": 4, 
			"nombre": "Arriba", 
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
				{"valor": 0, "texto": "-"},
				{"valor": 1, "texto": "Arriba"}
			],
			"Mensajes": [
				{"valor": 0, "texto": "--"},
				{"valor": 1, "texto": "Puerta abierta"}
			]
		},
		{
			"GPIO": 12, 
			"nombre": "Abajo", 
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
				{"valor": 0, "texto": "-"},
				{"valor": 1, "texto": "Abajo"}
			],
			"Mensajes": [
				{"valor": 0, "texto": "--"},
				{"valor": 1, "texto": "Puerta cerrada"}
			]
		},
		{
			"GPIO": 14, 
			"nombre": "Barrera",
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
			  {"valor": 0, "texto": "Paso libre"},
			  {"valor": 1, "texto": "Objeto detectado"}
			],
			"Mensajes": [
			  {"valor": 0, "texto": "Paso libre"},
			  {"valor": 1, "texto": "Objeto detectado"}
			]
		  },
		  {
			"GPIO": 15, 
			"nombre": "Emergencia",
			"tipo": "INPUT",
			"estadoActivo": 1,
			"Estados": [
			  {"valor": 0, "texto": "Apagado"},
			  {"valor": 1, "texto": "Encendido"}
			],
			"Mensajes": [
			  {"valor": 0, "texto": "Apagado"},
			  {"valor": 1, "texto": "Encendido"}
			]
		  }  			
	]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/recibidos/SalidasConfig.json
conenido decoded: -->{
  "Salidas": [
    {
      "GPIO": 21, 
      "nombre": "Subir",
      "tipo": 0,
      "inicio": "off",
      "anchoPulso": 1000,
      "modo": 3,
      "controlador": 0,
      "Estados": [
        {"valor": 0, "texto": "Apagado"},
        {"valor": 1, "texto": "Encendido"}
      ],
      "Mensajes": [
        {"valor": 0, "texto": "Apagado"},
        {"valor": 1, "texto": "Encendido"}
      ]
    },
    {
      "GPIO": 19, 
      "nombre": "Bajar",
      "tipo": 0,
      "inicio": "off",
      "anchoPulso": 1000,
      "modo": 3,
      "controlador": 0,
      "Estados": [
        {"valor": 0, "texto": "Apagado"},
        {"valor": 1, "texto": "Encendido"}
      ],
      "Mensajes": [
        {"valor": 0, "texto": "Apagado"},
        {"valor": 1, "texto": "Encendido"}
      ]
    },
    {
      "GPIO": 18, 
      "nombre": "LuzRoja",
      "tipo": 0,
      "inicio": "off",
      "anchoPulso": 1000,
      "modo": 3,
      "controlador": 0,
      "Estados": [
        {"valor": 0, "texto": "--"},
        {"valor": 1, "texto": "Alarma"}
      ],
      "Mensajes": [
        {"valor": 0, "texto": "--"},
        {"valor": 1, "texto": "Alarma"}
      ]
    },   
    {
      "GPIO": 5,
      "nombre": "boton",
      "tipo": 0,
      "inicio": "off",
      "anchoPulso": 1000,
      "modo": 0,
      "controlador": 0,
      "Estados": [
        {"valor": 0, "texto": "No se"},
        {"valor": 1, "texto": "Pulsado"}
      ],
      "Mensajes": [
        {"valor": 0, "texto": "No se que poner"},
        {"valor": 1, "texto": "Boton pulsado"}
      ]
    }
  ]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/recibidos/SecuenciadorConfig.json
conenido decoded: -->{
	"estadoInicial": 1,
	"Planes":[]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/recibidos/MaqEstadosConfig.json
conenido decoded: -->{
	"Entradas": [0,1,2,3,4],
	"Salidas": [0,1,2],
	"Estados":[
		{"id":0, "nombre": "Error",  "salidas":[0,0,0], "timeout": -1},
		{"id":1, "nombre": "Inicio", "salidas":[0,0,0], "timeout": -1},
		{"id":2, "nombre": "Arriba", "salidas":[0,0,0], "timeout": -1},
		{"id":3, "nombre": "Abajo",  "salidas":[0,0,0], "timeout": -1},
		{"id":4, "nombre": "Subiendo", "salidas":[1,0,0], "timeout": 30},
		{"id":5, "nombre": "Bajando",  "salidas":[0,1,0], "timeout": 30},
		{"id":6, "nombre": "Alarma",  "salidas":[0,0,1], "timeout": 0}
		],
	"Transiciones":[
    {"inicial":0,"entradas":[-1,-1,-1,-1,-1],"final":0},

    {"inicial":1,"entradas":[-1,-1,-1,-1,1],"final":6},
    {"inicial":1,"entradas":[-1,-1,-1,1,0],"final":4},
    {"inicial":1,"entradas":[-1,1,1,0,0],"final":0},
    {"inicial":1,"entradas":[-1,0,0,0,0],"final":4},
    {"inicial":1,"entradas":[-1,1,0,0,0],"final":2},
    {"inicial":1,"entradas":[-1,0,1,0,0],"final":3},

    {"inicial":2,"entradas":[-1,-1,-1,-1,1],"final":6},    
    {"inicial":2,"entradas":[-1,-1,1,0,0],"final":0},
    {"inicial":2,"entradas":[0,1,0,0,0],"final":2},
    {"inicial":2,"entradas":[1,1,0,0,0],"final":5},
    {"inicial":2,"entradas":[-1,0,0,0,0],"final":5},

    {"inicial":3,"entradas":[-1,-1,-1,-1,1],"final":6},
    {"inicial":3,"entradas":[-1,1,-1,0,0],"final":0},
    {"inicial":3,"entradas":[0,0,1,0,0],"final":3},
    {"inicial":3,"entradas":[1,0,1,0,0],"final":4},
    {"inicial":3,"entradas":[-1,0,0,0,0],"final":4},

    {"inicial":4,"entradas":[-1,-1,-1,-1,1],"final":6},
    {"inicial":4,"entradas":[-1,1,1,-1,0],"final":0},
    {"inicial":4,"entradas":[-1,0,-1,-1,0],"final":4},
    {"inicial":4,"entradas":[-1,1,0,0,0],"final":2},

    {"inicial":5,"entradas":[-1,-1,-1,-1,1],"final":6}, 
    {"inicial":5,"entradas":[-1,1,1,-1,0],"final":0},
    {"inicial":5,"entradas":[-1,-1,-1,1,0],"final":1},
    {"inicial":5,"entradas":[-1,-1,0,0,0],"final":5},    
    {"inicial":5,"entradas":[-1,0,1,0,0],"final":3},

    {"inicial":6,"entradas":[-1,-1,-1,-1,1],"final":6},
    {"inicial":6,"entradas":[-1,-1,-1,-1,0],"final":1}
  ]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/recibidos/GHNConfig.json
conenido decoded: -->{
	"activaGoogleHomeNotifier": 0,
	"nombreEquipo": "Todos",
	"idioma": "es"
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/recibidos/Sensores.json
conenido decoded: -->{
    "Sensores":[
        {
        "nombre":"BMP280_1",
        "tipo": "BMP280",
        "parametros":
            {"direccionI2C":"0x76"}
        }
    ]
}<--
Entrando en configuracion...
hay un dispositivo, comparo las contrasenas
se guardara en /home/pi/desarrollo/python/flask/Domoticae-plataforma/usuarios/jlopezt/test99/recibidos/Variables.json
conenido decoded: -->{
    "Variables":[
        {
        "nombre":"TemperaturaExterior",
        "unidades":"ºC",
        "descripcion":"Temepratura medida en el jardin",
        "sensor": "BMP280_1",
        "tipo":"TEMPERATURA",
        "Humbrales":[
            {"nombre": "mucho frio", "tipo":"inferior", "valor": 0, "mensaje": "Hace frio"},
            {"nombre": "mucho calor", "tipo":"superior", "valor": 40, "mensaje": "¡¡Que calor!!"}
            ]
        },
        {
        "nombre":"PresionAtmosferica",
        "unidades":"bar",
        "descripcion":"Presion atmosferica",
        "sensor": "BMP280_1",
        "tipo":"PRESION",
        "Humbrales":[
            {"nombre": "tiempo inestable", "tipo":"inferior", "valor": 840, "mensaje": "puede llover"},
            {"nombre": "anticiclonazo", "tipo":"superior", "valor": 1100, "mensaje": "Solete"}
            ]
        }                      
    ]
}<--
Entrando en ficheroConfiguracion (jlopezt|test99|Config)...
Seion espirada
subscrito al topic: domoticae/#
Conectado a la base de datos domoticae
Configuracion MQTT
broker: [10.68.0.100]
puerto: [1883]
usuario: [domoticae]
pass: [88716]
pub topic root: [domoticae]
sub topic root: [domoticae]
 * Serving Flask app 'domoticae'
Conectado al bus MQTT
subscrito al topic: domoticae/#
 * Debug mode: on
Conectado a la base de datos domoticae
Configuracion MQTT
broker: [10.68.0.100]
puerto: [1883]
usuario: [domoticae]
pass: [88716]
pub topic root: [domoticae]
sub topic root: [domoticae]
Conectado al bus MQTT
subscrito al topic: domoticae/#
Conectado al bus MQTT
subscrito al topic: domoticae/#
Conectado a la base de datos domoticae
Configuracion MQTT
broker: [10.68.0.100]
puerto: [1883]
usuario: [domoticae]
pass: [88716]
pub topic root: [domoticae]
sub topic root: [domoticae]
Conectado al bus MQTT
subscrito al topic: domoticae/#
 * Serving Flask app 'domoticae'
 * Debug mode: on
Conectado a la base de datos domoticae
Configuracion MQTT
broker: [10.68.0.100]
puerto: [1883]
usuario: [domoticae]
pass: [88716]
pub topic root: [domoticae]
sub topic root: [domoticae]
Conectado al bus MQTT
subscrito al topic: domoticae/#
 * Serving Flask app 'domoticae'
 * Debug mode: on
Conectado a la base de datos domoticae
Configuracion MQTT
broker: [10.68.0.100]
puerto: [1883]
usuario: [domoticae]
pass: [88716]
pub topic root: [domoticae]
sub topic root: [domoticae]
Conectado al bus MQTT
subscrito al topic: domoticae/#
 * Serving Flask app 'domoticae'
 * Debug mode: on
Conectado a la base de datos domoticae
Configuracion MQTT
broker: [10.68.0.100]
puerto: [1883]
usuario: [domoticae]
pass: [88716]
pub topic root: [domoticae]
sub topic root: [domoticae]
Conectado al bus MQTT
subscrito al topic: domoticae/#
 * Serving Flask app 'domoticae'
 * Debug mode: on
Conectado a la base de datos domoticae
Configuracion MQTT
broker: [10.68.0.100]
puerto: [1883]
usuario: [domoticae]
pass: [88716]
pub topic root: [domoticae]
sub topic root: [domoticae]
Conectado al bus MQTT
subscrito al topic: domoticae/#
 * Serving Flask app 'domoticae'
 * Debug mode: on
Conectado a la base de datos domoticae
Configuracion MQTT
broker: [10.68.0.100]
puerto: [1883]
usuario: [domoticae]
pass: [88716]
pub topic root: [domoticae]
sub topic root: [domoticae]
Conectado al bus MQTT
subscrito al topic: domoticae/#
 * Serving Flask app 'domoticae'
 * Debug mode: on
Conectado a la base de datos domoticae
Configuracion MQTT
broker: [10.68.0.100]
puerto: [1883]
usuario: [domoticae]
pass: [88716]
pub topic root: [domoticae]
sub topic root: [domoticae]
Conectado al bus MQTT
subscrito al topic: domoticae/#
 * Serving Flask app 'domoticae'
 * Debug mode: on
Conectado a la base de datos domoticae
Configuracion MQTT
broker: [10.68.0.100]
puerto: [1883]
usuario: [domoticae]
pass: [88716]
pub topic root: [domoticae]
sub topic root: [domoticae]
Conectado al bus MQTT
subscrito al topic: domoticae/#
 * Serving Flask app 'domoticae'
 * Debug mode: on
Conectado a la base de datos domoticae
Configuracion MQTT
broker: [10.68.0.100]
puerto: [1883]
usuario: [domoticae]
pass: [88716]
pub topic root: [domoticae]
sub topic root: [domoticae]
Conectado al bus MQTT
subscrito al topic: domoticae/#
 * Serving Flask app 'domoticae'
 * Debug mode: on
Conectado a la base de datos domoticae
Configuracion MQTT
broker: [10.68.0.100]
puerto: [1883]
usuario: [domoticae]
pass: [88716]
pub topic root: [domoticae]
sub topic root: [domoticae]
Conectado al bus MQTT
subscrito al topic: domoticae/#
 * Serving Flask app 'domoticae'
 * Debug mode: on
Conectado a la base de datos domoticae
Configuracion MQTT
broker: [10.68.0.100]
puerto: [1883]
usuario: [domoticae]
pass: [88716]
pub topic root: [domoticae]
sub topic root: [domoticae]
Conectado al bus MQTT
subscrito al topic: domoticae/#
(2006, 'MySQL server has gone away')
Topic que genera el error:  domoticae/jlopezt/Test1/humbrales
Mensaje que genera el error:  {"variable": "TemperaturaExterior", "humbral":"mucho frio", "tipo":-1, "mensajeHumbral":"Hace frio", "valor":-100.00, "valorHumbral":0.00}
usuario: jlopezt password txt: Jorsadi_0 password: 125554099666a6632fe664b59fe7d4e4
(2006, 'MySQL server has gone away')
Error en la consulta
usuario: jlopezt password txt: 88716 password: e37330707cd192afa04493fd5526cbc8
(2006, 'MySQL server has gone away')
Error en la consulta
usuario: jlopezt password txt: Jorsadi_0 password: 125554099666a6632fe664b59fe7d4e4
(2006, 'MySQL server has gone away')
Error en la consulta
usuario: jlopezt password txt: 8ty45ew8 password: a416a10fd95b34c21975023acee304d3
(2006, 'MySQL server has gone away')
Error en la consulta
nombre: prueba pruena
direccion: 1
telefono: 112233445
correo: prueba@leche.com
usuario: prueba password: 125554099666a6632fe664b59fe7d4e4
Consulta: select Usuario from Usuarios where usuario='prueba'
(2006, 'MySQL server has gone away')
Topic que genera el error:  domoticae/jlopezt/Test1/humbrales
Mensaje que genera el error:  {"variable": "TemperaturaExterior", "humbral":"mucho frio", "tipo":-1, "mensajeHumbral":"Hace frio", "valor":-100.00, "valorHumbral":0.00}
